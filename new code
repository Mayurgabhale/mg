// Update Related Results based on searchTerm
useEffect(() => {
  const term = searchTerm.trim().toLowerCase();

  if (!term) {
    setSuggestions([]); // empty if no search term
    return;
  }

  // Split search term into parts (for first, middle, last name matching)
  const searchParts = term.split(/\s+/);

  const filtered = allEmployees.filter(emp => {
    const name = emp.EmpName ? emp.EmpName.toLowerCase() : '';
    const id = emp.EmployeeID ? emp.EmployeeID.toLowerCase() : '';
    const nameParts = name.split(/\s+/); // split employee name into parts

    // Check if any search part matches any part of employee name OR ID
    const matchesName = searchParts.every(sp =>
      nameParts.some(np => np.includes(sp))
    );

    const matchesId = id.includes(term);

    return matchesName || matchesId;
  });

  setSuggestions(filtered.length > 0 ? filtered : []); // empty array if nothing matched
}, [searchTerm, allEmployees]);