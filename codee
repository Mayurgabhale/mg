const filteredSummaryDevices = deviceObjects.filter((deviceObj, index) => {
    const correspondingCard = allDevices[index];
    return (
        (selectedType === "all" || correspondingCard.dataset.type === selectedType) &&
        (selectedStatus === "all" || correspondingCard.dataset.status === selectedStatus) &&
        (selectedCity === "all" || correspondingCard.dataset.city === selectedCity) &&
        (selectedVendor === "all" || (correspondingCard.dataset.vendor || "") === selectedVendor)
    );
});






.....


setTimeout(() => {
    const selectedCity = cityFilter.value;
    const selectedType = deviceFilter.value;
    const selectedStatus = document.querySelector(".status-filter.active")?.dataset.status || "all";
    const vendorFilterElem = document.getElementById("vendorFilter");
    const selectedVendor = vendorFilterElem ? vendorFilterElem.value : "all";

    const filteredSummaryDevices = deviceObjects.filter((deviceObj, index) => {
        const correspondingCard = allDevices[index];
        return (
            (selectedType === "all" || correspondingCard.dataset.type === selectedType) &&
            (selectedStatus === "all" || correspondingCard.dataset.status === selectedStatus) &&
            (selectedCity === "all" || correspondingCard.dataset.city === selectedCity) &&
            (selectedVendor === "all" || (correspondingCard.dataset.vendor || "") === selectedVendor)
        );
    });

    const summary = calculateCitySummary(filteredSummaryDevices);
    updateSummary(summary);
}, 100);