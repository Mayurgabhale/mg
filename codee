// fetch events in the 24h window ending at atDate
let events = await fetchEventsWindow(atDate);

// --- Keep only events whose local Asia/Kolkata date matches the requested 'at' date
const asOfLocalDate = DateTime.fromJSDate(atDate, { zone: 'utc' })
  .setZone('Asia/Kolkata')
  .toFormat('yyyy-LL-dd');

events = events.filter(evt => evt.Dateonly === asOfLocalDate);
