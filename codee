import LoadingSpinner from "./LoadingSpinner"; // ⬅️ add at top with imports

const [loading, setLoading] = useState(true); // ⬅️ add state

useEffect(() => {
  async function fetchData() {
    try {
      setLoading(true); // start loading
      const res = await fetch("http://localhost:3001/api/occupancy/live-summary");
      const liveData = await res.json();
      // ... your existing merge logic
      setMembers(sorted);
    } catch (err) {
      console.error("Error fetching live data:", err);
    } finally {
      setLoading(false); // stop loading
    }
  }

  fetchData();
  const interval = setInterval(fetchData, 15000);
  return () => clearInterval(interval);
}, []);

// ⬅️ RIGHT BEFORE THE RETURN BLOCK
if (loading) {
  return <LoadingSpinner />;
}