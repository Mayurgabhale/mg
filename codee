exports.debugFetchCount = async (req, res) => {
  try {
    await denver.poolPromise;
    const denverStart = DateTime.now()
      .setZone('America/Denver')
      .startOf('day')
      .toJSDate();

    const rows = await fetchNewEvents(denverStart);
    return res.json({
      denverStart,
      fetched: Array.isArray(rows) ? rows.length : 0,
      sample: (rows || []).slice(0, 5),
    });
  } catch (err) {
    return res.status(500).json({ error: err.message });
  }
};






const todayStart = DateTime.now().setZone('America/Denver').startOf('day');
const since = todayStart.toJSDate();
let events = await fetchNewEvents(since);