let combinedDevices = [];
let citySet = new Set();
let vendorSet = new Set(); // <-- added to collect vendor/device_details values





.....

combinedDevices.push({
    card: card,
    device: {
        type: deviceType,
        status: currentStatus,
        city: city,
        vendor: vendor
    }
});




....




// --- Vendor / subtype filter (shows when deviceFilter === 'cameras') ---
let vendorFilter = document.getElementById("subtype-filter");
if (!vendorFilter) {
    vendorFilter = document.createElement("select");
    vendorFilter.id = "subtype-filter";
    vendorFilter.style.marginTop = "8px";
    vendorFilter.innerHTML = `<option value="all">All Vendors</option>`;
    // insert vendorFilter after deviceFilter and before cityFilter
    deviceFilter.parentNode.insertBefore(vendorFilter, cityFilter);
}

// populate vendor options (clear previous)
vendorFilter.innerHTML = `<option value="all">All Vendors</option>`;
[...vendorSet].sort().forEach(v => {
    const opt = document.createElement("option");
    opt.value = v;
    opt.textContent = v;
    vendorFilter.appendChild(opt);
});

// hide by default unless cameras selected
vendorFilter.style.display = (deviceFilter.value === "cameras") ? "block" : "none";

// when vendor changes, re-filter
vendorFilter.addEventListener("change", filterDevices);




.....


const filteredDevices = allDevices.filter((device) =>
    (selectedType === "all" || device.dataset.type === selectedType) &&
    (selectedStatus === "all" || device.dataset.status === selectedStatus) &&
    (selectedCity === "all" || device.dataset.city === selectedCity) &&
    (selectedVendor === "all" || (device.dataset.vendor || "Unknown") === selectedVendor) &&
    (
        !searchTerm ||
        device.innerText.toLowerCase().includes(searchTerm)
    )
);






....

