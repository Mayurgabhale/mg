.summary .card.active {
    background-color: #dbeafe; /* light blue */
    border: 2px solid #3b82f6; /* optional: blue border */
    transition: background-color 0.3s ease, border 0.3s ease;
}



card.addEventListener("click", (ev) => {
    if (clickTimer) clearTimeout(clickTimer);
    clickTimer = setTimeout(() => {
        const h3 = card.querySelector("h3");
        const titleText = h3 ? h3.innerText.trim() : card.innerText.trim();
        const filterValue = mapCardTitleToFilterValue(titleText);

        const deviceFilterElem = document.getElementById("device-filter");
        if (!deviceFilterElem) return;

        deviceFilterElem.value = filterValue;
        deviceFilterElem.dispatchEvent(new Event("change", { bubbles: true }));

        // ðŸ”¥ Highlight clicked card, remove from others
        document.querySelectorAll(".summary .card").forEach(c => c.classList.remove("active"));
        if (filterValue !== "all") {
            card.classList.add("active");
        }
    }, clickDelay);
});

card.addEventListener("dblclick", (ev) => {
    if (clickTimer) {
        clearTimeout(clickTimer);
        clickTimer = null;
    }
    const deviceFilterElem = document.getElementById("device-filter");
    if (!deviceFilterElem) return;

    deviceFilterElem.value = "all";
    deviceFilterElem.dispatchEvent(new Event("change", { bubbles: true }));

    // ðŸ”¥ Remove all highlights on double-click (reset)
    document.querySelectorAll(".summary .card").forEach(c => c.classList.remove("active"));
});