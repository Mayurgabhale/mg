///// denvar error ///////
PS C:\Users\W0024618> cd desktop
PS C:\Users\W0024618\desktop> cd swipeData
PS C:\Users\W0024618\desktop\swipeData>  cd employee-ai-insights
PS C:\Users\W0024618\desktop\swipeData\employee-ai-insights> npm start

> employee-ai-insights@1.0.0 start
> node server.js

Server running at http://localhost:5000
✅ MSSQL pool connected
✅ Denver MSSQL pool connected
❌ Denver MSSQL pool error: TimeoutError: operation timed out for an unknown reason
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tarn\dist\PendingOperation.js:17:27
    at runNextTicks (node:internal/process/task_queues:65:5)
    at process.processTimers (node:internal/timers:520:9)
⚠️ Denver keep-alive query failed, resetting poolPromise: TimeoutError: operation timed out for an unknown reason
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tarn\dist\PendingOperation.js:17:27
    at runNextTicks (node:internal/process/task_queues:65:5)
    at process.processTimers (node:internal/timers:520:9)



/////////////////////////////////

Server running at http://localhost:5000
✅ MSSQL pool connected
✅ Denver MSSQL pool connected
❌ Denver MSSQL pool error: TimeoutError: operation timed out for an unknown reason
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tarn\dist\PendingOperation.js:17:27
    at runNextTicks (node:internal/process/task_queues:65:5)
    at process.processTimers (node:internal/timers:520:9)
⚠️ Denver keep-alive query failed, resetting poolPromise: TimeoutError: operation timed out for an unknown reason
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tarn\dist\PendingOperation.js:17:27
    at runNextTicks (node:internal/process/task_queues:65:5)
    at process.processTimers (node:internal/timers:520:9)
❌ Error computing in/out inconsistency: TypeError: Cannot read properties of undefined (reading 'request')
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\controllers\denverInOutInconsistencyController.js:899:24
    at withRetry (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\controllers\denverInOutInconsistencyController.js:872:20)
    at fetchHistoricalEventsChunked (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\controllers\denverInOutInconsistencyController.js:898:25)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async exports.getDenverInOutInconsistency (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\controllers\denverInOutInconsistencyController.js:1063:20)
⚠️ Denver poolPromise resolved to null — DB likely unavailable
Error fetching rejection data: TypeError: Cannot read properties of undefined (reading 'request')
    at getRejections (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\controllers\denverRejection.js:73:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
❌ Error computing in/out inconsistency: TypeError: Cannot read properties of undefined (reading 'request')
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\controllers\denverInOutInconsistencyController.js:899:24
    at withRetry (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\controllers\denverInOutInconsistencyController.js:872:20)
    at fetchHistoricalEventsChunked (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\controllers\denverInOutInconsistencyController.js:898:25)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async exports.getDenverInOutInconsistency (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\controllers\denverInOutInconsistencyController.js:1063:20)
Error fetching rejection data: TypeError: Cannot read properties of undefined (reading 'request')
    at getRejections (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\controllers\denverRejection.js:73:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
❌ Denver pool connection failed: ConnectionError: Failed to connect to SRVWUDEN0891V:1433 in 30000ms
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\mssql\lib\tedious\connection-pool.js:85:17
    at Connection.onConnect (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tedious\lib\connection.js:849:9)
    at Object.onceWrapper (node:events:633:26)
    at Connection.emit (node:events:518:28)
    at Connection.emit (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tedious\lib\connection.js:970:18)
    at Connection.connectTimeout (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tedious\lib\connection.js:1222:10)
    at Timeout._onTimeout (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tedious\lib\connection.js:1167:12)
    at listOnTimeout (node:internal/timers:588:17)
    at process.processTimers (node:internal/timers:523:7) {
  code: 'ETIMEOUT',
  originalError: ConnectionError: Failed to connect to SRVWUDEN0891V:1433 in 30000ms
      at Connection.connectTimeout (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tedious\lib\connection.js:1222:26)
      at Timeout._onTimeout (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tedious\lib\connection.js:1167:12)
      at listOnTimeout (node:internal/timers:588:17)
      at process.processTimers (node:internal/timers:523:7) {
    code: 'ETIMEOUT'
  }
}
⏳ Retrying Denver pool connect (3 left)…
❌ Error computing in/out inconsistency: TypeError: Cannot read properties of undefined (reading 'request')
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\controllers\denverInOutInconsistencyController.js:899:24
    at withRetry (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\controllers\denverInOutInconsistencyController.js:872:20)
    at fetchHistoricalEventsChunked (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\controllers\denverInOutInconsistencyController.js:898:25)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async exports.getDenverInOutInconsistency (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\controllers\denverInOutInconsistencyController.js:1063:20)
⚠️ Denver poolPromise resolved to null — DB likely unavailable
Error fetching rejection data: TypeError: Cannot read properties of undefined (reading 'request')
    at getRejections (C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\controllers\denverRejection.js:73:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)





//////////////// pune error ///////


⏳ Retrying Denver pool connect (1 left)…
❌ MSSQL global error: TimeoutError: operation timed out for an unknown reason
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tarn\dist\PendingOperation.js:17:27
    at runNextTicks (node:internal/process/task_queues:65:5)
    at listOnTimeout (node:internal/timers:549:9)
    at process.processTimers (node:internal/timers:523:7)
❌ MSSQL pool error: TimeoutError: operation timed out for an unknown reason
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tarn\dist\PendingOperation.js:17:27
    at runNextTicks (node:internal/process/task_queues:65:5)
    at listOnTimeout (node:internal/timers:549:9)
    at process.processTimers (node:internal/timers:523:7)
❌ MSSQL global error: TimeoutError: operation timed out for an unknown reason
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tarn\dist\PendingOperation.js:17:27
    at runNextTicks (node:internal/process/task_queues:65:5)
    at listOnTimeout (node:internal/timers:549:9)
    at process.processTimers (node:internal/timers:523:7)
❌ MSSQL pool error: TimeoutError: operation timed out for an unknown reason
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tarn\dist\PendingOperation.js:17:27
    at runNextTicks (node:internal/process/task_queues:65:5)
    at listOnTimeout (node:internal/timers:549:9)
    at process.processTimers (node:internal/timers:523:7)
❌ MSSQL global error: TimeoutError: operation timed out for an unknown reason
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tarn\dist\PendingOperation.js:17:27
    at runNextTicks (node:internal/process/task_queues:65:5)
    at listOnTimeout (node:internal/timers:549:9)
    at process.processTimers (node:internal/timers:523:7)
❌ MSSQL pool error: TimeoutError: operation timed out for an unknown reason
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tarn\dist\PendingOperation.js:17:27
    at runNextTicks (node:internal/process/task_queues:65:5)
    at listOnTimeout (node:internal/timers:549:9)
    at process.processTimers (node:internal/timers:523:7)
❌ MSSQL global error: TimeoutError: operation timed out for an unknown reason
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tarn\dist\PendingOperation.js:17:27
    at runNextTicks (node:internal/process/task_queues:65:5)
    at listOnTimeout (node:internal/timers:549:9)
    at process.processTimers (node:internal/timers:523:7)
❌ MSSQL pool error: TimeoutError: operation timed out for an unknown reason
    at C:\Users\W0024618\Desktop\swipeData\employee-ai-insights\node_modules\tarn\dist\PendingOperation.js:17:27
    at runNextTicks (node:internal/process/task_queues:65:5)
    at listOnTimeout (node:internal/timers:549:9)
    at process.processTimers (node:internal/timers:523:7)










+++++++++++++++++++++++++++++++++++++++++++++
+++++++++++++++++++++++++++++++++++++++++++++
+++++++++++++++++++++++++++++++++++++++++++++
+++++++++++++++++++++++++++++++++++++++++++++
+++++++++++++++++++++++++++++++++++++++++++++
+++++++++++++++++++++++++++++++++++++++++++++



}
⏳ Retrying Denver pool connect (2 left)…
✅ MSSQL pool connected (Pune)
[DENVER] SSE client disconnected, cleared timers

<--- Last few GCs --->

[40056:0000014EE4455000]   665641 ms: Mark-Compact 3996.3 (4137.5) -> 3983.7 (4140.8) MB, pooled: 0 MB, 1408.98 / 0.00 ms  (average mu = 0.111, current mu = 0.027) allocation failure; scavenge might not succeed
[40056:0000014EE4455000]   668916 ms: Mark-Compact 3999.4 (4141.0) -> 3986.8 (4144.3) MB, pooled: 0 MB, 3244.39 / 0.00 ms  (average mu = 0.041, current mu = 0.009) allocation failure; scavenge might not succeed


<--- JS stacktrace --->

FATAL ERROR: Reached heap limit Allocation failed - JavaScript heap out of memory
----- Native stack trace -----

 1: 00007FF7DCB8542D node::SetCppgcReference+17693
 2: 00007FF7DCAE8248 SSL_get_quiet_shutdown+102712
 3: 00007FF7DD66ED41 v8::Isolate::ReportExternalAllocationLimitReached+65
 4: 00007FF7DD65B9C6 v8::Function::Experimental_IsNopFunction+2870
 5: 00007FF7DD4A8B10 v8::internal::StrongRootAllocatorBase::StrongRootAllocatorBase+31456
 6: 00007FF7DD4A5B7A v8::internal::StrongRootAllocatorBase::StrongRootAllocatorBase+19274
 7: 00007FF7DD4BB3D1 v8::Isolate::GetHeapProfiler+7793
 8: 00007FF7DD4BBC78 v8::Isolate::GetHeapProfiler+10008
 9: 00007FF7DD4C6EE1 v8::Isolate::GetHeapProfiler+55681
10: 00007FF7DD4D6977 v8::Isolate::GetHeapProfiler+119831
11: 00007FF7DD03D94E v8::base::bits::RoundUpToPowerOfTwo32+177838
12: 00007FF7DD2FF464 v8::MemorySpan<std::basic_string_view<char,std::char_traits<char> > const >::end+705748
13: 00007FF7DD6207C7 v8::SharedValueConveyor::SharedValueConveyor+334663
14: 00007FF7DD61F990 v8::SharedValueConveyor::SharedValueConveyor+331024
15: 00007FF77D6ED3FA
PS C:\Users\W0024618\desktop\swipeData\employee-ai-insights>
