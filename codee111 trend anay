<div className="modal-container" role="region" aria-label="evidence summary">
  {/* Main Content Grid */}
  <div className="modal-top">
    {/* Column 1 - Profile Image with Enhanced Design */}
    <div className="profile-section">
      <div className="profile-image-container">
        {(modalDetails && modalDetails.aggregated_rows && modalDetails.aggregated_rows.length > 0) ? (
          (() => {
            const md = modalDetails.aggregated_rows[0];
            if (md && md.imageUrl) {
              return (
                <div className="image-frame">
                  <img 
                    className="profile-image" 
                    src={API_BASE + md.imageUrl} 
                    alt="Employee portrait" 
                    onError={(e) => { e.target.style.display = 'none'; }} 
                  />
                </div>
              );
            } else {
              return <div className="profile-image-placeholder">No photo available</div>;
            }
          })()
        ) : (
          <div className="profile-image-placeholder">—</div>
        )}
      </div>
    </div>

    {/* Column 2 - Employee Details */}
    <div className="details-section">
      <div className="employee-header">
        <h2 className="employee-name">{sanitizeName(modalRow) || "—"}</h2>
        <div className="employee-badge">{modalRow.EmployeeID || "—"}</div>
      </div>
      
      <div className="details-grid">
        <div className="detail-item">
          <span className="detail-label">Card Number</span>
          <span className="detail-value">{modalRow.CardNumber || "—"}</span>
        </div>
        <div className="detail-item">
          <span className="detail-label">Email</span>
          <span className="detail-value">
            {(modalDetails && modalDetails.aggregated_rows && modalDetails.aggregated_rows[0] && modalDetails.aggregated_rows[0].EmployeeEmail) 
              ? modalDetails.aggregated_rows[0].EmployeeEmail 
              : <span className="muted">—</span>}
          </span>
        </div>
        <div className="detail-item">
          <span className="detail-label">Date</span>
          <span className="detail-value">{safeDateDisplay(modalRow.Date || modalRow.FirstSwipe)}</span>
        </div>
        <div className="detail-item">
          <span className="detail-label">Duration</span>
          <span className="detail-value highlight">
            {modalRow.Duration || (modalRow.DurationMinutes ? Math.round(modalRow.DurationMinutes) + " min" : "—")}
          </span>
        </div>
      </div>
    </div>

    {/* Column 3 - Analysis Section */}
    <div className="analysis-section">
      <div className="reasons-container">
        <h3 className="section-title">Flagged Reasons</h3>
        <div className="reasons-chips">
          {renderReasonChips(modalRow.Reasons)}
        </div>
      </div>

      <div className="explanation-container">
        <h3 className="section-title">Analysis Summary</h3>
        <div className="explanation-content">
          {renderReasonExplanations(modalRow.Reasons)}
        </div>
      </div>
    </div>
  </div>

  <div className="modal-divider"></div>
</div>