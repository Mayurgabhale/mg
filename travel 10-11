// C:\Users\W0024618\Desktop\swipeData\client\src\pages\EmployeeTravelDashboard.jsx
import React, { useState, useEffect, useMemo } from "react";
import axios from "axios";
import { ToastContainer, toast } from "react-toastify";
import "react-toastify/dist/ReactToastify.css";
// Import real icons
import {
    FiGlobe,
    FiUsers,
    FiMapPin,
    FiFileText,
    FiUpload,
    FiFilter,
    FiSearch,
    FiDownload,
    FiTrash2,
    FiCheckCircle,
    FiXCircle,
    FiCalendar,
    FiMail,
    FiUser,
    FiAward,
    FiActivity,
    FiBarChart2,
    FiTrendingUp,
    FiClock,
    FiEye,
    FiX,
    FiSun, FiMoon,
    FiUserPlus,
    FiSave,
    FiNavigation,
    FiArrowLeft,
    FiRefreshCw,
    FiInfo,
    FiMap,
    FiDatabase,
    FiUploadCloud,
    FiFolder,
    FiFile,
    FiLoader,
    FiAlertCircle,
    FiBriefcase,
    FiChevronLeft,
    FiChevronRight

} from "react-icons/fi";
import { IoIosAddCircle } from "react-icons/io";
import { BsPersonWalking } from "react-icons/bs";
import {
    FaCar,
    FaTruck,
    FaTrain,
    FaPlane,
    FaShip,
    FaBicycle, FaHotel
} from "react-icons/fa";

import { FaLocationArrow } from 'react-icons/fa6';

import './EmployeeTravelDashboard.css';

const fmt = (iso) => {
    if (!iso) return "";
    try {
        const d = new Date(iso);
        return d.toLocaleDateString() + " " + d.toLocaleTimeString();
    } catch {
        return String(iso);
    }
};

const EmployeeTravelDashboard = () => {
    const [file, setFile] = useState(null);
    const [items, setItems] = useState([]);
    const [summary, setSummary] = useState({});
    const [loading, setLoading] = useState(false);
    const [filters, setFilters] = useState({
        country: "",
        location: "",
        legType: "",
        search: "",
        status: ""
    });
    const [selectedTraveler, setSelectedTraveler] = useState(null);
    const [activeTab, setActiveTab] = useState("overview");


    // üÜï Add theme state
    const [isDarkTheme, setIsDarkTheme] = useState(false);
    // üÜï Toggle theme function
    const toggleTheme = () => {
        setIsDarkTheme(!isDarkTheme);
    };

    // Add to your existing state variables
    const [regionsData, setRegionsData] = useState({});
    const [selectedRegion, setSelectedRegion] = useState(null);
    const [regionDetails, setRegionDetails] = useState(null);
    // üÜï Helper functions for regions
    const getRegionColor = (regionCode) => {
        const colors = {
            'GLOBAL': '#6b7280',
            'APAC': '#dc2626',
            'EMEA': '#2563eb',
            'LACA': '#16a34a',
            'NAMER': '#7c3aed'
        };
        return colors[regionCode] || '#6b7280';
    };

    const getRegionIcon = (regionCode) => {
        const icons = {
            'GLOBAL': 'üåç',
            'APAC': 'üåè',
            'EMEA': 'üåç',
            'LACA': 'üåé',
            'NAMER': 'üåé'
        };
        return icons[regionCode] || 'üìç';
    };



    const [employeeData, setEmployeeData] = useState([]);

    const [monthlyFile, setMonthlyFile] = useState(null);
    const [uploadStatus, setUploadStatus] = useState("");



    const handleMonthlyFileChange = (e) => {
        const selected = e.target.files?.[0];
        console.log("Selected:", selected);
        setMonthlyFile(selected);
    };

    const uploadMonthlySheet = async () => {
        if (!monthlyFile) return alert("Please select a file first.");

        const formData = new FormData();
        formData.append("file", monthlyFile);

        try {
            setUploadStatus("Uploading...");
            const res = await fetch("http://localhost:8000/monthly_sheet/upload_monthly", {
                method: "POST",
                body: formData,
            });
            const result = await res.json();
            setUploadStatus(result.message || "Upload success!");
        } catch (err) {
            console.error(err);
            setUploadStatus("Upload failed.");
        }
    };








    // ‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è
    const [showAddForm, setShowAddForm] = useState(false);
    const [newTraveler, setNewTraveler] = useState({
        first_name: "",
        last_name: "",
        emp_id: "",
        email: "",
        begin_dt: "",
        end_dt: "",
        from_location: "",
        from_country: "",
        to_location: "",
        to_country: "",
        leg_type: "",
    });




    const addTraveler = async () => {
        try {
            await axios.post("http://localhost:8000/add_traveler", newTraveler);
            toast.success("Traveler added successfully!");
            setShowAddForm(false);
            setNewTraveler({
                first_name: "",
                last_name: "",
                emp_id: "",
                email: "",
                begin_dt: "",
                end_dt: "",
                from_location: "",
                from_country: "",
                to_location: "",
                to_country: "",
                leg_type: "",
            });
            // Refresh data after adding
            const res = await axios.get("http://localhost:8000/data");
            const payload = res.data || {};
            setItems(payload.items || []);
            setSummary(payload.summary || {});
        } catch (err) {
            toast.error("Failed to add traveler. Check backend.");
        }
    };
    // ‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è




    const styles = getStyles(isDarkTheme);

    const [lastUpdated, setLastUpdated] = useState(null);

    // ‚úÖ Load saved data immediately on refresh + auto-refresh every 10 seconds
    useEffect(() => {
        const fetchLatest = async (showToast = false) => {
            try {
                const res = await axios.get("http://localhost:8000/data");
                const payload = res.data || {};
                const rows = payload.items || [];

                // On first load or new data
                if (rows.length > 0) {
                    setItems(rows);
                    setSummary(payload.summary || {});

                    // show toast only when we want (e.g., initial page load)
                    if (showToast) {
                        toast.info(`Loaded ${rows.length} saved records from previous session.`);
                    }

                    // track update timestamp
                    if (payload.last_updated) {
                        setLastUpdated(payload.last_updated);
                    }
                }
            } catch (err) {
                console.warn("No saved data yet ‚Äî upload a file to start.");
            }
        };

        // üîπ Load previous data once when page loads
        fetchLatest(true);

        // üîπ Keep refreshing every 10 seconds
        const interval = setInterval(() => fetchLatest(false), 10000);
        return () => clearInterval(interval);
    }, []);




    const handleFileChange = (e) => setFile(e.target.files[0]);

    const uploadFile = async () => {
        if (!file) return toast.warn("Please select an Excel or CSV file first.");
        setLoading(true);
        try {
            const formData = new FormData();
            formData.append("file", file);
            const res = await axios.post("http://localhost:8000/upload", formData, {
                headers: { "Content-Type": "multipart/form-data" },
            });
            const payload = res.data || {};
            const rows = payload.items || [];
            setItems(rows);
            setSummary(payload.summary || {});
            toast.success(`Uploaded successfully. ${rows.length} records found.`);
        } catch (err) {
            console.error(err);
            toast.error("Upload failed. Please check the backend or file format.");
        } finally {
            setLoading(false);
        }
    };

    const safeItems = Array.isArray(items) ? items : [];

    const analytics = useMemo(() => {
        const active = safeItems.filter(r => r.active_now).length;

        const countries = [...new Set(safeItems.map(r => r.from_country).filter(Boolean))];
        const legTypes = [...new Set(safeItems.map(r => r.leg_type).filter(Boolean))];

        // Travel duration analysis
        const durations = safeItems.map(r => {
            if (!r.begin_dt || !r.end_dt) return 0;
            const start = new Date(r.begin_dt);
            const end = new Date(r.end_dt);
            return Math.max(0, (end - start) / (1000 * 60 * 60 * 24)); // days
        }).filter(d => d > 0);

        const avgDuration = durations.length > 0 ?
            durations.reduce((a, b) => a + b, 0) / durations.length : 0;

        return {
            active,
            totalCountries: countries.length,
            totalTypes: legTypes.length,
            avgDuration: avgDuration.toFixed(1),
            totalTravelers: safeItems.length
        };
    }, [safeItems]);

    // üÜï Country Statistics with enhanced data
    const countryStats = useMemo(() => {
        const map = {};
        safeItems.forEach(r => {
            const c = r.from_country || "Unknown";
            if (!map[c]) {
                map[c] = { count: 0, active: 0, travelers: new Set() };
            }
            map[c].count++;
            if (r.active_now) map[c].active++;
            map[c].travelers.add(`${r.first_name} ${r.last_name}`);
        });

        return Object.entries(map)
            .map(([country, data]) => ({
                country,
                count: data.count,
                active: data.active,
                travelerCount: data.travelers.size
            }))
            .sort((a, b) => b.count - a.count);
    }, [safeItems]);

    // üÜï Travel Type Analysis
    const travelTypeStats = useMemo(() => {
        const map = {};
        safeItems.forEach(r => {
            const type = r.leg_type || "Unknown";
            if (!map[type]) {
                map[type] = { count: 0, active: 0, countries: new Set() };
            }
            map[type].count++;
            if (r.active_now) map[type].active++;
            if (r.from_country) map[type].countries.add(r.from_country);
        });

        return Object.entries(map)
            .map(([type, data]) => ({
                type,
                count: data.count,
                active: data.active,
                countryCount: data.countries.size
            }))
            .sort((a, b) => b.count - a.count);
    }, [safeItems]);

    // üÜï Recent Travelers (last 7 days)
    const recentTravelers = useMemo(() => {
        const sevenDaysAgo = new Date();
        sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);

        return safeItems
            .filter(r => r.begin_dt && new Date(r.begin_dt) >= sevenDaysAgo)
            .sort((a, b) => new Date(b.begin_dt) - new Date(a.begin_dt))
            .slice(0, 10);
    }, [safeItems]);

    const countries = useMemo(
        () => [...new Set(safeItems.map((r) => r.from_country).filter(Boolean))],
        [safeItems]
    );
    const locations = useMemo(() => {
        const allLocations = [
            ...new Set([
                ...safeItems.map((r) => r.from_location).filter(Boolean),
                ...safeItems.map((r) => r.to_location).filter(Boolean)
            ])
        ];
        return allLocations.sort();
    }, [safeItems]);
    const legTypes = useMemo(
        () => [...new Set(safeItems.map((r) => r.leg_type).filter(Boolean))],
        [safeItems]
    );


    // üÜï Travel Type Icons Mapping
    const getTravelTypeIcon = (type) => {
        if (!type) return FiGlobe;

        const typeLower = type.toLowerCase();
        if (typeLower.includes('car') || typeLower.includes('vehicle')) return FaCar;
        if (typeLower.includes('truck') || typeLower.includes('bus')) return FaTruck;
        if (typeLower.includes('train') || typeLower.includes('rail')) return FaTrain;
        if (typeLower.includes('plane') || typeLower.includes('air') || typeLower.includes('flight')) return FaPlane;
        if (typeLower.includes('ship') || typeLower.includes('boat') || typeLower.includes('sea')) return FaShip;
        if (typeLower.includes('bike') || typeLower.includes('cycle')) return FaBicycle;
        if (typeLower.includes('hotel') || typeLower.includes('HOTEL')) return FaHotel;
        if (typeLower.includes('stop') || typeLower.includes('stop')) return BsPersonWalking;
        return FaLocationArrow;
    };

    // üÜï Travel Type Color Mapping
    const getTravelTypeColor = (type) => {
        if (!type) return '#6b7280';

        const typeLower = type.toLowerCase();
        if (typeLower.includes('car') || typeLower.includes('vehicle')) return '#dc2626';
        if (typeLower.includes('truck') || typeLower.includes('bus')) return '#ea580c';
        if (typeLower.includes('train') || typeLower.includes('rail')) return '#16a34a';
        if (typeLower.includes('plane') || typeLower.includes('air') || typeLower.includes('flight')) return '#2563eb';
        if (typeLower.includes('ship') || typeLower.includes('boat') || typeLower.includes('sea')) return '#7c3aed';
        if (typeLower.includes('bike') || typeLower.includes('cycle')) return '#ca8a04';
        return '#2465c1ff';
    };

    // üÜï Today's Travelers
    const today = new Date();
    today.setHours(0, 0, 0, 0);
    const todayTravelers = safeItems.filter((r) => {
        if (!r.begin_dt) return false;
        const start = new Date(r.begin_dt);
        start.setHours(0, 0, 0, 0);
        return start.getTime() === today.getTime();
    });

    const filtered = safeItems
        .filter((r) => {
            const s = filters.search.toLowerCase();
            if (s) {
                const hay = `${r.first_name ?? ""} ${r.last_name ?? ""} ${r.email ?? ""} ${r.from_location ?? ""} ${r.to_location ?? ""}`.toLowerCase();
                if (!hay.includes(s)) return false;
            }
            if (filters.country && r.from_country !== filters.country) return false;
            if (filters.location) {
                const fromLocationMatch = r.from_location && r.from_location.toLowerCase().includes(filters.location.toLowerCase());
                const toLocationMatch = r.to_location && r.to_location.toLowerCase().includes(filters.location.toLowerCase());
                if (!fromLocationMatch && !toLocationMatch) return false;
            }
            if (filters.legType && r.leg_type !== filters.legType) return false;
            if (filters.status === "active" && !r.active_now) return false;
            if (filters.status === "inactive" && r.active_now) return false;
            return true;
        })
        .sort((a, b) => (b.active_now === true) - (a.active_now === true));

    const exportCsv = () => {
        if (!filtered.length) return toast.info("No data to export.");
        const keys = Object.keys(filtered[0]);
        const csv = [keys.join(",")];
        filtered.forEach((r) =>
            csv.push(keys.map((k) => `"${String(r[k] ?? "").replace(/"/g, '""')}"`).join(","))
        );
        const blob = new Blob([csv.join("\n")], { type: "text/csv" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "EmployeeTravelData.csv";
        a.click();
        URL.revokeObjectURL(url);
        toast.success("CSV exported successfully.");
    };


    // /////////////////////
    // Add this useEffect to fetch regions data
    useEffect(() => {
        const fetchRegionsData = async () => {
            if (safeItems.length > 0) {
                try {
                    const response = await axios.get('http://localhost:8000/regions');
                    setRegionsData(response.data.regions || {});
                } catch (error) {
                    console.error('Error fetching regions data:', error);
                }
            }
        };

        fetchRegionsData();
    }, [safeItems]); // Refresh when items change

    // Function to fetch specific region details
    const fetchRegionDetails = async (regionCode) => {
        try {
            const response = await axios.get(`http://localhost:8000/regions/${regionCode}`);
            setRegionDetails(response.data.region);
            setSelectedRegion(regionCode);
        } catch (error) {
            console.error('Error fetching region details:', error);
            toast.error('Failed to load region details');
        }
    };

    // /////////////////////

    // Enhanced Traveler Detail Popup Component
    const TravelerDetailPopup = ({ traveler, onClose }) => {
        if (!traveler) return null;

        const TravelTypeIcon = getTravelTypeIcon(traveler.leg_type);
        const travelTypeColor = getTravelTypeColor(traveler.leg_type);

        // Calculate duration
        const getDuration = () => {
            if (!traveler.begin_dt || !traveler.end_dt) return 'Unknown';
            const start = new Date(traveler.begin_dt);
            const end = new Date(traveler.end_dt);
            const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24));
            return `${days} day${days !== 1 ? 's' : ''}`;
        };

        return (
            <div style={styles.popupOverlay}>
                <div style={styles.popupContent}>
                    {/* Header */}
                    <div style={styles.popupHeader}>
                        <div style={styles.headerContent}>
                            <div style={styles.avatarSection}>
                                <div style={styles.avatarLarge}>
                                    <FiUser size={24} />
                                </div>
                            </div>
                            <div style={styles.headerInfo}>
                                <h3 style={styles.popupTitle}>
                                    {traveler.first_name} {traveler.last_name}
                                </h3>
                                <p style={styles.employeeId}>Employee ID: {traveler.emp_id || 'N/A'}</p>
                            </div>
                        </div>
                        <button onClick={onClose} style={styles.popupCloseBtn}>
                            <FiX size={20} />
                        </button>
                    </div>

                    {/* Body */}
                    <div style={styles.popupBody}>
                        {/* Status Banner */}
                        <div style={styles.statusBanner}>
                            <div style={{
                                ...styles.statusBadge,
                                ...(traveler.active_now ? styles.activeStatus : styles.inactiveStatus)
                            }}>
                                <div style={{
                                    ...styles.statusDot,
                                    ...(traveler.active_now ? styles.activeDot : styles.inactiveDot)
                                }}></div>
                                {traveler.active_now ? "Currently Traveling" : "Travel Completed"}
                            </div>

                            <div style={{
                                ...styles.travelTypeBadge,
                                background: `${travelTypeColor}15`,
                                border: `1px solid ${travelTypeColor}30`,
                                color: travelTypeColor
                            }}>
                                <TravelTypeIcon size={16} />
                                <span style={styles.travelTypeText}>
                                    {traveler.leg_type || 'Unknown Type'}
                                </span>
                            </div>
                        </div>

                        {/* Details Container */}
                        <div style={styles.detailsContainer}>
                            {/* Personal Info */}
                            <div style={styles.detailSection}>
                                <div style={styles.sectionHeader}>
                                    <FiUser style={styles.sectionIcon} />
                                    <h4 style={styles.sectionTitle}>Personal Information</h4>
                                </div>
                                <div style={styles.detailList}>
                                    <div style={styles.detailRow}>
                                        <span style={styles.detailLabel}>Employee ID</span>
                                        <span style={styles.detailValue}>{traveler.emp_id || 'Not Provided'}</span>
                                    </div>
                                    <div style={styles.detailRow}>
                                        <span style={styles.detailLabel}>Full Name</span>
                                        <span style={styles.detailValue}>{traveler.first_name} {traveler.last_name}</span>
                                    </div>
                                    <div style={styles.detailRow}>
                                        <span style={styles.detailLabel}>Email</span>
                                        <span style={styles.detailValue}>
                                            <FiMail size={14} style={styles.inlineIcon} />
                                            {traveler.email || 'Not Provided'}
                                        </span>
                                    </div>
                                </div>
                            </div>

                            {/* Travel Info - From */}
                            <div style={styles.detailSection}>
                                <div style={styles.sectionHeader}>
                                    <FiMapPin style={{ ...styles.sectionIcon, color: '#ef4444' }} />
                                    <h4 style={styles.sectionTitle}>Departure Details</h4>
                                </div>
                                <div style={styles.detailList}>
                                    <div style={styles.detailRow}>
                                        <span style={styles.detailLabel}>From Location</span>
                                        <span style={styles.detailValue}>
                                            <FiMapPin size={14} style={{ ...styles.inlineIcon, color: '#ef4444' }} />
                                            {traveler.from_location || 'Not specified'}
                                        </span>
                                    </div>
                                    <div style={styles.detailRow}>
                                        <span style={styles.detailLabel}>From Country</span>
                                        <span style={styles.detailValue}>
                                            <FiGlobe size={14} style={{ ...styles.inlineIcon, color: '#3b82f6' }} />
                                            {traveler.from_country || 'Unknown'}
                                        </span>
                                    </div>
                                </div>
                            </div>

                            {/* Travel Info - To */}
                            <div style={styles.detailSection}>
                                <div style={styles.sectionHeader}>
                                    <FiMapPin style={{ ...styles.sectionIcon, color: '#10b981' }} />
                                    <h4 style={styles.sectionTitle}>Destination Details</h4>
                                </div>
                                <div style={styles.detailList}>
                                    <div style={styles.detailRow}>
                                        <span style={styles.detailLabel}>To Location</span>
                                        <span style={styles.detailValue}>
                                            <FiMapPin size={14} style={{ ...styles.inlineIcon, color: '#10b981' }} />
                                            {traveler.to_location || 'Not specified'}
                                        </span>
                                    </div>
                                    <div style={styles.detailRow}>
                                        <span style={styles.detailLabel}>To Country</span>
                                        <span style={styles.detailValue}>
                                            <FiGlobe size={14} style={{ ...styles.inlineIcon, color: '#3b82f6' }} />
                                            {traveler.to_country || 'Unknown'}
                                        </span>
                                    </div>
                                    <div style={styles.detailRow}>
                                        <span style={styles.detailLabel}>Travel Type</span>
                                        <span style={{
                                            ...styles.detailValue,
                                            color: travelTypeColor,
                                            fontWeight: '600'
                                        }}>
                                            <TravelTypeIcon size={14} style={styles.inlineIcon} />
                                            {traveler.leg_type || 'Unknown'}
                                        </span>
                                    </div>
                                </div>
                            </div>

                            {/* Timeline */}
                            <div style={styles.detailSection}>
                                <div style={styles.sectionHeader}>
                                    <FiCalendar style={styles.sectionIcon} />
                                    <h4 style={styles.sectionTitle}>Travel Timeline</h4>
                                </div>
                                <div style={styles.detailList}>
                                    <div style={styles.detailRow}>
                                        <span style={styles.detailLabel}>Start Date</span>
                                        <span style={styles.detailValue}>
                                            <FiClock size={14} style={styles.inlineIcon} />
                                            {fmt(traveler.begin_dt) || 'Not Set'}
                                        </span>
                                    </div>
                                    <div style={styles.detailRow}>
                                        <span style={styles.detailLabel}>End Date</span>
                                        <span style={styles.detailValue}>
                                            <FiClock size={14} style={styles.inlineIcon} />
                                            {fmt(traveler.end_dt) || 'Not Set'}
                                        </span>
                                    </div>
                                    <div style={styles.detailRow}>
                                        <span style={styles.detailLabel}>Duration</span>
                                        <span style={styles.detailValue}>
                                            {getDuration()}
                                        </span>
                                    </div>
                                </div>
                            </div>

                            {/* Additional Info */}
                            <div style={styles.detailSection}>
                                <div style={styles.sectionHeader}>
                                    <FiAward style={styles.sectionIcon} />
                                    <h4 style={styles.sectionTitle}>Additional Details</h4>
                                </div>
                                <div style={styles.detailList}>
                                    <div style={styles.detailRow}>
                                        <span style={styles.detailLabel}>Status</span>
                                        <span style={{
                                            ...styles.statusTag,
                                            ...(traveler.active_now ? styles.activeTag : styles.inactiveTag)
                                        }}>
                                            {traveler.active_now ? 'Active' : 'Completed'}
                                        </span>
                                    </div>
                                    <div style={styles.detailRow}>
                                        <span style={styles.detailLabel}>Last Updated</span>
                                        <span style={styles.detailValue}>
                                            {new Date().toLocaleDateString()}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        );
    };

    return (
        // <div style={page}>
        <div style={styles.page}>
            <ToastContainer position="top-right" autoClose={3000} theme={isDarkTheme ? "dark" : "light"} />
            {loading && (
                <div style={style.overlay}>
                    <span style={style.loader}></span>
                    <style>{keyframes}</style>
                </div>
            )}

            {/* Traveler Detail Popup */}
            <TravelerDetailPopup
                traveler={selectedTraveler}
                onClose={() => setSelectedTraveler(null)}
            />

            {/* HEADER */}
            {/* HEADER */}
            <header style={styles.header}>
                <div style={styles.headerContent}>
                    <div style={styles.headerIcon}>
                        <FiGlobe size={32} />
                    </div>
                    <div style={{ flex: 1 }}>
                        <h1 style={styles.title}>Employee Travel Details Dashboard</h1>

                    </div>
                    {/* üÜï Theme Toggle Button */}
                    <button
                        onClick={toggleTheme}
                        style={styles.themeToggleBtn}
                        title={isDarkTheme ? "Switch to light mode" : "Switch to dark mode"}
                    >
                        {isDarkTheme ? <FiSun size={20} /> : <FiMoon size={20} />}
                    </button>
                </div>
            </header>

            <div style={layout}>
                {/* LEFT PANEL - Navigation */}
                <aside style={styles.sidebar}>
                    <nav style={styles.nav}>
                        {[

                            { id: "regions", label: "Global", icon: FiGlobe }, // üÜï New tab
                            { id: "AddNewTraveler", label: "Add New Traveler", icon: IoIosAddCircle },
                            { id: "overview", label: "Overview", icon: FiActivity },
                            { id: "analytics", label: "Analytics", icon: FiBarChart2 },
                            { id: "recent", label: "Recent Travels", icon: FiClock },
                            { id: "countries", label: "Country Analysis", icon: FiMapPin },
                            { id: "types", label: "Travel Types", icon: FiAward },
                            { id: "uploadMonthly", label: "Upload Monthly Active Sheet", icon: FiUpload },
                        ].map(item => (
                            <button
                                key={item.id}
                                onClick={() => setActiveTab(item.id)}
                                style={{
                                    ...styles.navItem,
                                    ...(activeTab === item.id ? styles.navItemActive : {})
                                }}
                            >
                                <item.icon style={styles.navIcon} />
                                {item.label}
                            </button>
                        ))}
                    </nav>

                    {/* Quick Stats */}
                    <div style={styles.sideCard}>
                        <div style={styles.cardHeader}>
                            <FiTrendingUp style={styles.cardIcon} />
                            <h3 style={styles.sideTitle}>Quick Stats</h3>
                        </div>
                        <div style={styles.statsGrid}>
                            <div style={styles.statItem}>
                                <div style={styles.statIconWrapper}>
                                    <FiUsers style={styles.statIcon} />
                                </div>
                                <div style={styles.statContent}>
                                    <span style={styles.statLabel}>Total Travelers</span>
                                    <strong style={styles.statValue}>{analytics.totalTravelers}</strong>
                                </div>
                            </div>
                            <div style={styles.statItem}>
                                <div style={{ ...styles.statIconWrapper, background: '#dcfce7' }}>
                                    <FiCheckCircle style={{ ...styles.statIcon, color: '#16a34a' }} />
                                </div>
                                <div style={statContent}>
                                    <span style={styles.statLabel}>Active Now</span>
                                    <strong style={styles.statValue}>{analytics.active}</strong>
                                </div>
                            </div>

                        </div>
                    </div>

                    {/* Today's Travelers */}
                    <div style={styles.sideCard}>
                        <div style={styles.cardHeader}>
                            <FiCalendar style={styles.cardIcon} />
                            <h3 style={styles.sideTitle}>Today's Travelers</h3>
                        </div>
                        {todayTravelers.length === 0 ? (
                            <div style={styles.emptyState}>
                                <FiFileText size={24} style={{ color: '#9ca3af', marginBottom: '8px' }} />
                                <p style={styles.sideEmpty}>No travels today</p>
                            </div>
                        ) : (
                            <ul style={styles.countryList}>
                                {todayTravelers.slice(0, 5).map((t, i) => (
                                    <li key={i} style={styles.countryItem}>
                                        <div style={styles.countryInfo}>
                                            <span style={styles.countryRank}>{i + 1}</span>
                                            <span style={styles.countryName}>
                                                {t.first_name} {t.last_name}
                                            </span>
                                        </div>
                                        <div style={{ fontSize: '12px', color: '#6b7280' }}>
                                            {t.from_country} ‚Üí {t.to_country}
                                        </div>
                                    </li>
                                ))}
                            </ul>
                        )}
                    </div>
                </aside>

                {/* MAIN CONTENT */}
                <main style={styles.main}>
                    {/* File Upload Section */}
                    <div style={styles.card}>
                        {/* Compact Upload Section */}
                        <div style={styles.compactUploadRow}>
                            <div style={styles.compactFileUpload}>
                                <input
                                    type="file"
                                    accept=".xlsx,.xls,.csv"
                                    onChange={handleFileChange}
                                    style={styles.fileInput}
                                    id="file-upload"
                                />
                                <label htmlFor="file-upload" style={styles.compactFileLabel}>
                                    <FiUpload size={16} />
                                    {file ? file.name : "Choose File"}
                                </label>
                            </div>
                            <div style={styles.compactButtonGroup}>
                                <button
                                    onClick={uploadFile}
                                    disabled={loading}
                                    style={loading ? styles.disabledCompactBtn : styles.compactPrimaryBtn}
                                >
                                    {loading ? (
                                        <div style={styles.smallSpinner}></div>
                                    ) : (
                                        <FiUpload size={14} />
                                    )}
                                </button>
                                <button
                                    onClick={() => {
                                        setItems([]);
                                        setSummary({});
                                        setFile(null);
                                        toast.info("Data cleared successfully.");
                                    }}
                                    style={styles.compactSecondaryBtn}
                                >
                                    <FiTrash2 size={14} />
                                </button>
                                <button onClick={exportCsv} style={styles.compactGhostBtn}>
                                    <FiDownload size={14} />
                                </button>
                            </div>
                        </div>



                        {/* üìùüìùüìùüìùüìù */}

                        {/* üÜï Region Count Cards */}
                        <div style={styles.regionCardsSection}>
                            <div style={styles.sectionHeader}>
                                <FiGlobe style={styles.sectionIcon} />
                                <h3 style={styles.sectionTitle}>Regions Overview</h3>
                            </div>
                            <div style={styles.regionCardsGrid}>
                                {/* Total Card */}
                                <div style={styles.regionCard}>
                                    <div style={styles.regionCardHeader}>
                                        <div style={{ ...styles.regionIcon, background: '#3b82f6' }}>
                                            <FiGlobe size={16} />
                                        </div>
                                        <span style={styles.regionName}>Global</span>
                                    </div>
                                    <div style={styles.regionCardStats}>
                                        <span style={styles.regionCount}>{safeItems.length}</span>
                                        <span style={styles.regionLabel}>Total Travelers</span>
                                    </div>
                                    <div style={styles.regionCardActive}>
                                        <div style={styles.activeDot}></div>
                                        <span>{safeItems.filter(r => r.active_now).length} Active</span>
                                    </div>
                                </div>

                                {/* Region Cards */}
                                {Object.entries(regionsData)
                                    .sort(([a], [b]) => {
                                        // Sort: GLOBAL first, then alphabetically
                                        if (a === 'GLOBAL') return -1;
                                        if (b === 'GLOBAL') return 1;
                                        return a.localeCompare(b);
                                    })
                                    .map(([regionCode, regionData]) => (
                                        <div
                                            key={regionCode}
                                            style={{
                                                ...styles.regionCard,
                                                ...(filters.region === regionCode && styles.regionCardActive),
                                            }}
                                        >
                                            <div style={styles.regionCardHeader}>
                                                <div
                                                    style={{
                                                        ...styles.regionIcon,
                                                        background: getRegionColor(regionCode),
                                                    }}
                                                >
                                                    {getRegionIcon(regionCode)}
                                                </div>
                                                <span style={styles.regionName}>{regionCode}</span>
                                            </div>
                                            <div style={styles.regionCardStats}>
                                                <span style={styles.regionCount}>{regionData.total_count}</span>
                                                <span style={styles.regionLabel}>Travelers</span>
                                            </div>
                                            <div style={styles.regionCardActive}>
                                                <div
                                                    style={{
                                                        ...styles.activeDot,
                                                        background:
                                                            regionData.active_count > 0 ? '#10b981' : '#6b7280',
                                                    }}
                                                ></div>
                                                <span>{regionData.active_count} Active</span>
                                            </div>
                                        </div>
                                    ))}
                            </div>
                        </div>
                        {/* üìùüìùüìùüìùüìù */}



                        {/* Filters Section */}
                        <div style={styles.filtersSection}>
                            <div style={styles.filtersHeader}>
                                <FiFilter style={{ marginRight: '8px', color: '#6b7280' }} />
                                <span style={styles.filtersTitle}>Filters & Search</span>
                            </div>
                            <div style={styles.filtersRow}>
                                <div style={styles.searchWrapper}>
                                    <FiSearch style={styles.searchIcon} />
                                    <input
                                        placeholder="Search travelers..."
                                        value={filters.search}
                                        onChange={(e) => setFilters({ ...filters, search: e.target.value })}
                                        style={styles.searchInput}
                                    />
                                </div>

                                {/* Region Filter Dropdown */}
                                <select
                                    value={filters.country}
                                    onChange={(e) => setFilters({ ...filters, country: e.target.value })}
                                    style={styles.select}
                                >
                                    <option value="">All Countries</option>
                                    {countries.map((c) => (
                                        <option key={c}>{c}</option>
                                    ))}
                                </select>
                                <select
                                    value={filters.legType}
                                    onChange={(e) => setFilters({ ...filters, legType: e.target.value })}
                                    style={styles.select}
                                >
                                    <option value="">All Travel Types</option>
                                    {legTypes.map((t) => (
                                        <option key={t}>{t}</option>
                                    ))}
                                </select>
                                <select
                                    value={filters.status}
                                    onChange={(e) => setFilters({ ...filters, status: e.target.value })}
                                    style={styles.select}
                                >
                                    <option value="">All Status</option>
                                    <option value="active">Active Only</option>
                                    <option value="inactive">Inactive Only</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    {/* üìùüìùüìùüìù */}


                    {/* Dynamic Content based on Active Tab */}
                    {/* //////// */}
                    {/* Add New Traveler Tab */}
                    {activeTab === "AddNewTraveler" && (
                        <div style={styles.addTravelContainer}>
                            {/* Header Section */}
                            <div style={styles.addTravelHeader}>
                                <div style={styles.headerLeft}>
                                    <div style={styles.headerIconLarge}>
                                        <FiUserPlus size={32} />
                                    </div>
                                    <div>
                                        <h2 style={styles.addTravelTitle}>Add New Traveler</h2>
                                        <p style={styles.addTravelSubtitle}>Enter details for the new travel record</p>
                                    </div>
                                </div>
                                <div style={styles.headerStats}>
                                    <div style={styles.statCard}>
                                        <FiUsers size={20} style={{ color: '#3b82f6' }} />
                                        <div>
                                            <span style={styles.statNumber}>{analytics.totalTravelers}</span>
                                            <span style={styles.statLabel}>Total Travelers</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Form Container */}
                            <div style={styles.formMainContainer}>
                                <div style={styles.formCard}>
                                    {/* Form Header */}
                                    <div style={styles.formHeader}>
                                        <div style={styles.formIcon}>
                                            <FiUserPlus size={24} />
                                        </div>
                                        <div>
                                            <h3 style={styles.formTitle}>Traveler Information</h3>
                                            <p style={styles.formSubtitle}>Fill in all required details</p>
                                        </div>
                                    </div>

                                    {/* Form Sections */}
                                    <div style={styles.formSections}>
                                        {/* Personal Information */}
                                        <div style={styles.formSection}>
                                            <h4 style={styles.sectionTitle}>
                                                <FiUser style={styles.sectionIcon} />
                                                Personal Information
                                            </h4>
                                            <div style={styles.sectionGrid}>
                                                {[
                                                    { key: 'first_name', label: 'First Name', type: 'text', icon: FiUser, required: true },
                                                    { key: 'last_name', label: 'Last Name', type: 'text', icon: FiUser, required: true },
                                                    { key: 'emp_id', label: 'Employee ID', type: 'text', icon: FiAward, required: true },
                                                    { key: 'email', label: 'Email Address', type: 'email', icon: FiMail, required: true },
                                                ].map(({ key, label, type, icon: Icon, required }) => (
                                                    <div key={key} style={styles.inputGroup}>
                                                        <label style={styles.inputLabel}>
                                                            <Icon size={16} style={styles.labelIcon} />
                                                            {label}
                                                            {required && <span style={styles.required}>*</span>}
                                                        </label>
                                                        <input
                                                            type={type}
                                                            value={newTraveler[key] || ''}
                                                            onChange={(e) => setNewTraveler({ ...newTraveler, [key]: e.target.value })}
                                                            style={styles.formInput}
                                                            placeholder={`Enter ${label.toLowerCase()}`}
                                                        />
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        {/* Travel Details */}
                                        <div style={styles.formSection}>
                                            <h4 style={styles.sectionTitle}>
                                                <FiGlobe style={styles.sectionIcon} />
                                                Travel Details
                                            </h4>
                                            <div style={styles.sectionGrid}>
                                                {[
                                                    { key: 'leg_type', label: 'Travel Type', type: 'text', icon: FiNavigation, required: true },
                                                    { key: 'from_location', label: 'From Location', type: 'text', icon: FiMapPin, required: true },
                                                    { key: 'from_country', label: 'From Country', type: 'text', icon: FiGlobe, required: true },
                                                    { key: 'to_location', label: 'To Location', type: 'text', icon: FiMapPin, required: true },
                                                    { key: 'to_country', label: 'To Country', type: 'text', icon: FiGlobe, required: true },
                                                ].map(({ key, label, type, icon: Icon, required }) => (
                                                    <div key={key} style={styles.inputGroup}>
                                                        <label style={styles.inputLabel}>
                                                            <Icon size={16} style={styles.labelIcon} />
                                                            {label}
                                                            {required && <span style={styles.required}>*</span>}
                                                        </label>
                                                        <input
                                                            type={type}
                                                            value={newTraveler[key] || ''}
                                                            onChange={(e) => setNewTraveler({ ...newTraveler, [key]: e.target.value })}
                                                            style={styles.formInput}
                                                            placeholder={`Enter ${label.toLowerCase()}`}
                                                        />
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        {/* Timeline */}
                                        <div style={styles.formSection}>
                                            <h4 style={styles.sectionTitle}>
                                                <FiCalendar style={styles.sectionIcon} />
                                                Travel Timeline
                                            </h4>
                                            <div style={styles.sectionGrid}>
                                                {[
                                                    { key: 'begin_dt', label: 'Start Date & Time', type: 'datetime-local', icon: FiCalendar, required: true },
                                                    { key: 'end_dt', label: 'End Date & Time', type: 'datetime-local', icon: FiCalendar, required: true },
                                                ].map(({ key, label, type, icon: Icon, required }) => (
                                                    <div key={key} style={styles.inputGroup}>
                                                        <label style={styles.inputLabel}>
                                                            <Icon size={16} style={styles.labelIcon} />
                                                            {label}
                                                            {required && <span style={styles.required}>*</span>}
                                                        </label>
                                                        <input
                                                            type={type}
                                                            value={newTraveler[key] || ''}
                                                            onChange={(e) => setNewTraveler({ ...newTraveler, [key]: e.target.value })}
                                                            style={styles.formInput}
                                                        />
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    </div>

                                    {/* Form Actions */}
                                    <div style={styles.formActions}>
                                        <button
                                            onClick={() => setActiveTab('overview')}
                                            style={styles.secondaryButton}
                                        >
                                            <FiArrowLeft size={16} />
                                            Back to Overview
                                        </button>
                                        <div style={styles.primaryActions}>
                                            <button
                                                onClick={() => setNewTraveler({})}
                                                style={styles.clearButton}
                                            >
                                                <FiRefreshCw size={16} />
                                                Clear Form
                                            </button>
                                            <button
                                                onClick={addTraveler}
                                                style={styles.saveButton}
                                            >
                                                <FiSave size={16} />
                                                Save Traveler
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                {/* Quick Tips Sidebar */}
                                <div style={styles.tipsCard}>
                                    <h4 style={styles.tipsTitle}>
                                        <FiInfo size={18} />
                                        Quick Tips
                                    </h4>
                                    <div style={styles.tipsList}>
                                        <div style={styles.tipItem}>
                                            <FiCheckCircle size={14} style={{ color: '#10b981' }} />
                                            <span>Fill all required fields marked with *</span>
                                        </div>
                                        <div style={styles.tipItem}>
                                            <FiCheckCircle size={14} style={{ color: '#10b981' }} />
                                            <span>Use proper date and time format</span>
                                        </div>
                                        <div style={styles.tipItem}>
                                            <FiCheckCircle size={14} style={{ color: '#10b981' }} />
                                            <span>Double-check email addresses</span>
                                        </div>
                                        <div style={styles.tipItem}>
                                            <FiCheckCircle size={14} style={{ color: '#10b981' }} />
                                            <span>Ensure employee ID is unique</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                    {/* //////// */}

                    {activeTab === "overview" && (
                        <div style={styles.card}>
                            <div style={styles.tableHeader}>
                                <h3 style={styles.tableTitle}>All Travel Records</h3>
                                <span style={styles.tableBadge}>{filtered.length} records</span>
                            </div>
                            <div style={styles.tableWrap}>
                                <table style={styles.table}>
                                    <thead style={styles.thead}>
                                        <tr>
                                            <th style={styles.th}>Status</th>
                                            <th style={styles.th}>Traveler</th>
                                            <th style={styles.th}>Emp ID</th>
                                            <th style={styles.th}>Email</th>
                                            <th style={styles.th}>Type</th>
                                            <th style={styles.th}>From</th>
                                            <th style={styles.th}>To</th>
                                            <th style={styles.th}>Start Date</th>
                                            <th style={styles.th}>End Date</th>
                                            <th style={styles.th}>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {filtered.length === 0 ? (
                                            <tr>
                                                <td colSpan="9" style={styles.emptyRow}>
                                                    <div style={styles.emptyState}>
                                                        <FiFileText size={32} style={{ color: '#9ca3af', marginBottom: '12px' }} />
                                                        <p>No matching results found</p>
                                                        <p style={styles.emptySubtext}>Upload a file or adjust your filters</p>
                                                    </div>
                                                </td>
                                            </tr>
                                        ) : (
                                            filtered.map((r, i) => (
                                                <tr key={i} style={i % 2 === 0 ? styles.rowEven : styles.rowOdd}>
                                                    <td style={styles.td}>
                                                        {r.active_now ? (
                                                            <div style={styles.activeBadge}>
                                                                <FiCheckCircle size={14} />
                                                                Active
                                                            </div>
                                                        ) : (
                                                            <div style={styles.inactiveBadge}>
                                                                <FiXCircle size={14} />
                                                                Inactive
                                                            </div>
                                                        )}
                                                    </td>
                                                    <td style={styles.td}>
                                                        <div style={styles.userCell}>
                                                            <div style={styles.avatar}>
                                                                <FiUser size={14} />
                                                            </div>
                                                            <span>
                                                                {r.first_name} {r.last_name}
                                                            </span>
                                                        </div>
                                                    </td>
                                                    <td style={styles.td}>
                                                        <div style={styles.userCell}>
                                                            <span style={styles.empId}>
                                                                {r.emp_id || 'N/A'}
                                                            </span>
                                                        </div>
                                                    </td>
                                                    <td style={styles.td}>
                                                        <div style={styles.emailCell}>
                                                            <FiMail size={14} style={{ marginRight: '6px', color: '#6b7280' }} />
                                                            {r.email}
                                                        </div>
                                                    </td>
                                                    <td style={styles.td}>
                                                        <span style={styles.typeBadge}>{r.leg_type}</span>
                                                    </td>
                                                    <td style={styles.td}>
                                                        <div style={styles.combinedLocationCell}>
                                                            <div style={styles.locationRow}>
                                                                <FiMapPin size={12} style={{ marginRight: '4px', color: '#ef4444' }} />
                                                                <span style={styles.locationText}>
                                                                    {r.from_location || 'N/A'}
                                                                </span>
                                                            </div>
                                                            <div style={styles.countryRow}>
                                                                <FiGlobe size={10} style={{ marginRight: '4px', color: '#3b82f6' }} />
                                                                <span style={styles.countryText}>
                                                                    {r.from_country || 'Unknown'}
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td style={styles.td}>
                                                        <div style={styles.combinedLocationCell}>
                                                            <div style={styles.locationRow}>
                                                                <FiMapPin size={12} style={{ marginRight: '4px', color: '#10b981' }} />
                                                                <span style={styles.locationText}>
                                                                    {r.to_location || 'N/A'}
                                                                </span>
                                                            </div>
                                                            <div style={styles.countryRow}>
                                                                <FiGlobe size={10} style={{ marginRight: '4px', color: '#3b82f6' }} />
                                                                <span style={styles.countryText}>
                                                                    {r.to_country || 'Unknown'}
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td style={styles.td}>
                                                        <div style={styles.dateCell}>
                                                            <FiCalendar size={14} style={{ marginRight: '6px', color: '#6b7280' }} />
                                                            {fmt(r.begin_dt)}
                                                        </div>
                                                    </td>
                                                    <td style={styles.td}>
                                                        <div style={styles.dateCell}>
                                                            <FiCalendar size={14} style={{ marginRight: '6px', color: '#6b7280' }} />
                                                            {fmt(r.end_dt)}
                                                        </div>
                                                    </td>
                                                    <td style={styles.td}>
                                                        <button
                                                            onClick={() => setSelectedTraveler(r)}
                                                            style={styles.viewButton}
                                                        >
                                                            <FiEye size={14} />
                                                            View
                                                        </button>
                                                    </td>
                                                </tr>
                                            ))
                                        )}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    )}
                    {activeTab === "analytics" && (
                        <div style={styles.analyticsGrid}>
                            <div style={styles.analyticsCard}>
                                <h4 style={styles.analyticsTitle}>Travel Analytics</h4>
                                <div style={styles.analyticsStats}>
                                    <div style={styles.analyticsStat}>
                                        <span style={styles.analyticsLabel}>Average Duration</span>
                                        <strong style={styles.analyticsValue}>{analytics.avgDuration} days</strong>
                                    </div>
                                    <div style={styles.analyticsStat}>
                                        <span style={styles.analyticsLabel}>Total Countries</span>
                                        <strong style={styles.analyticsValue}>{analytics.totalCountries}</strong>
                                    </div>
                                    <div style={styles.analyticsStat}>
                                        <span style={styles.analyticsLabel}>Travel Types</span>
                                        <strong style={styles.analyticsValue}>{analytics.totalTypes}</strong>
                                    </div>
                                </div>
                            </div>

                            <div style={styles.analyticsCard}>
                                <h4 style={styles.analyticsTitle}>Country Distribution</h4>
                                <div style={styles.countryChart}>
                                    {countryStats.slice(0, 5).map((stat, index) => (
                                        <div key={stat.country} style={chartBarWrapper}>
                                            <div style={chartBarLabel}>
                                                <span>{stat.country}</span>
                                                <span>{stat.count}</span>
                                            </div>
                                            <div style={styles.chartBarTrack}>
                                                <div
                                                    style={{
                                                        ...styles.chartBarFill,
                                                        width: `${(stat.count / Math.max(...countryStats.map(s => s.count))) * 100}%`
                                                    }}
                                                />
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}

                    {activeTab === "recent" && (
                        <div style={styles.card}>
                            <div style={styles.tableHeader}>
                                <h3 style={styles.tableTitle}>Recent Travels (Last 7 Days)</h3>
                            </div>
                            <div style={styles.tableWrap}>
                                <table style={styles.table}>
                                    <thead style={styles.thead}>
                                        <tr>
                                            <th style={styles.th}>Traveler</th>
                                            <th style={styles.th}>Destination</th>
                                            <th style={styles.th}>Type</th>
                                            <th style={styles.th}>Start Date</th>
                                            <th style={styles.th}>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {recentTravelers.map((r, i) => (
                                            <tr key={i} style={i % 2 === 0 ? rowEven : rowOdd}>
                                                <td style={styles.td}>
                                                    <div style={styles.userCell}>
                                                        <div style={styles.avatar}>
                                                            <FiUser size={14} />
                                                        </div>
                                                        {r.first_name} {r.last_name}
                                                    </div>
                                                </td>
                                                <td style={styles.td}>{r.to_country}</td>
                                                <td style={styles.td}>
                                                    <span style={styles.typeBadge}>{r.leg_type}</span>
                                                </td>
                                                <td style={styles.td}>{fmt(r.begin_dt)}</td>
                                                <td style={styles.td}>
                                                    {r.active_now ? (
                                                        <div style={styles.activeBadge}>
                                                            <FiCheckCircle size={14} />
                                                            Active
                                                        </div>
                                                    ) : (
                                                        <div style={styles.inactiveBadge}>
                                                            <FiXCircle size={14} />
                                                            Completed
                                                        </div>
                                                    )}
                                                </td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    )}

                    {activeTab === "countries" && (
                        <div style={styles.card}>
                            <div style={styles.tableHeader}>
                                <h3 style={styles.tableTitle}>Country-wise Analysis</h3>
                            </div>
                            <div style={styles.tableWrap}>
                                <table style={styles.table}>
                                    <thead style={styles.thead}>
                                        <tr>
                                            <th style={styles.th}>Country</th>
                                            <th style={styles.th}>Total Travels</th>
                                            <th style={styles.th}>Active</th>
                                            <th style={styles.th}>Unique Travelers</th>
                                            <th style={styles.th}>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {countryStats.map((stat, i) => (
                                            <tr key={i} style={i % 2 === 0 ? rowEven : rowOdd}>
                                                <td style={styles.td}>
                                                    <strong>{stat.country}</strong>
                                                </td>
                                                <td style={styles.td}>{stat.count}</td>
                                                <td style={styles.td}>
                                                    <span style={{ color: stat.active > 0 ? '#16a34a' : '#6b7280' }}>
                                                        {stat.active}
                                                    </span>
                                                </td>
                                                <td style={styles.td}>{stat.travelerCount}</td>
                                                <td style={styles.td}>
                                                    <button style={viewButton}>
                                                        <FiEye size={14} />
                                                        Details
                                                    </button>
                                                </td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    )}

                    {activeTab === "types" && (
                        <div style={styles.card}>
                            <div style={styles.tableHeader}>
                                <h3 style={styles.tableTitle}>Travel Type Analysis</h3>
                            </div>
                            <div style={styles.tableWrap}>
                                <table style={styles.table}>
                                    <thead style={styles.thead}>
                                        <tr>
                                            <th style={styles.th}>Travel Type</th>
                                            <th style={styles.th}>Total</th>
                                            <th style={styles.th}>Active</th>
                                            <th style={styles.th}>Countries</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {travelTypeStats.map((stat, i) => (
                                            <tr key={i} style={i % 2 === 0 ? rowEven : rowOdd}>
                                                <td style={styles.td}>
                                                    <strong>{stat.type}</strong>
                                                </td>
                                                <td style={styles.td}>{stat.count}</td>
                                                <td style={styles.td}>
                                                    <span style={{ color: stat.active > 0 ? '#16a34a' : '#6b7280' }}>
                                                        {stat.active}
                                                    </span>
                                                </td>
                                                <td style={styles.td}>{stat.countryCount}</td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    )}


                    {/* ................. */}
                    {/* Region Analysis Tab */}
                    {activeTab === "regions" && (
                        <div style={styles.regionsContainer}>
                            {/* Header */}
                            <div style={styles.regionsHeader}>
                                <div style={styles.headerLeft}>
                                    <div style={styles.headerIconLarge}>
                                        <FiGlobe size={32} />
                                    </div>
                                    <div>
                                        <h2 style={styles.regionsTitle}>Region Analysis</h2>
                                        <p style={styles.regionsSubtitle}>Travel distribution across global regions</p>
                                    </div>
                                </div>
                                <div style={styles.headerStats}>
                                    <div style={styles.statCard}>
                                        <FiMap size={20} style={{ color: '#3b82f6' }} />
                                        <div>
                                            <span style={styles.statNumber}>{Object.keys(regionsData).length}</span>
                                            <span style={styles.statLabel}>Regions</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {selectedRegion ? (
                                /* Region Details View */
                                <div style={styles.regionDetailsContainer}>
                                    <div style={styles.regionDetailsHeader}>
                                        <button
                                            onClick={() => {
                                                setSelectedRegion(null);
                                                setRegionDetails(null);
                                            }}
                                            style={styles.backButton}
                                        >
                                            <FiArrowLeft size={16} />
                                            Back to Regions
                                        </button>
                                        <h3 style={styles.regionDetailsTitle}>
                                            {selectedRegion} Region Details
                                        </h3>
                                        <div style={styles.regionStats}>
                                            <div style={styles.regionStat}>
                                                <span style={styles.regionStatValue}>{regionDetails?.total_count || 0}</span>
                                                <span style={styles.regionStatLabel}>Total Travelers</span>
                                            </div>
                                            <div style={styles.regionStat}>
                                                <span style={styles.regionStatValue}>{regionDetails?.active_count || 0}</span>
                                                <span style={styles.regionStatLabel}>Active Now</span>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Cities in this Region */}
                                    <div style={styles.citiesGrid}>
                                        {Object.entries(regionDetails?.cities || {}).map(([cityName, cityData]) => (
                                            <div key={cityName} style={styles.cityCard}>
                                                <div style={styles.cityHeader}>
                                                    <FiMapPin style={styles.cityIcon} />
                                                    <h4 style={styles.cityName}>{cityName}</h4>
                                                    <div style={styles.cityStats}>
                                                        <span style={styles.cityCount}>{cityData.total_count}</span>
                                                        <span style={styles.cityLabel}>travelers</span>
                                                    </div>
                                                </div>
                                                <div style={styles.cityDetails}>
                                                    <div style={styles.cityStat}>
                                                        <FiUsers size={14} />
                                                        <span>Total: {cityData.total_count}</span>
                                                    </div>
                                                    <div style={styles.cityStat}>
                                                        <FiActivity size={14} />
                                                        <span>Active: {cityData.active_count}</span>
                                                    </div>
                                                </div>

                                                {/* Sample Travelers */}
                                                <div style={styles.sampleTravelers}>
                                                    <h5 style={styles.sampleTitle}>Recent Travelers:</h5>
                                                    {cityData.sample_items?.slice(0, 3).map((traveler, index) => (
                                                        <div key={index} style={styles.travelerItem}>
                                                            <div style={styles.travelerInfo}>
                                                                <span style={styles.travelerName}>
                                                                    {traveler.first_name} {traveler.last_name}
                                                                </span>
                                                                <span style={styles.travelerId}>{traveler.emp_id}</span>
                                                            </div>
                                                            <div style={traveler.active_now ? styles.activeStatusSmall : styles.inactiveStatusSmall}>
                                                                {traveler.active_now ? 'Active' : 'Completed'}
                                                            </div>
                                                        </div>
                                                    ))}
                                                    {cityData.sample_items?.length > 3 && (
                                                        <div style={styles.moreTravelers}>
                                                            +{cityData.sample_items.length - 3} more travelers
                                                        </div>
                                                    )}
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            ) : (
                                /* Regions Overview View */
                                <div style={styles.regionsGrid}>
                                    {Object.entries(regionsData).map(([regionCode, regionData]) => (
                                        <div
                                            key={regionCode}
                                            style={styles.regionCard}
                                            onClick={() => fetchRegionDetails(regionCode)}
                                        >
                                            <div style={styles.regionHeader}>
                                                <div style={styles.regionIcon}>
                                                    <FiGlobe size={20} />
                                                </div>
                                                <h3 style={styles.regionName}>{regionCode}</h3>
                                                <div style={styles.regionStats}>
                                                    <div style={styles.regionStat}>
                                                        <span style={styles.regionStatValue}>{regionData.total_count}</span>
                                                        <span style={styles.regionStatLabel}>Total</span>
                                                    </div>
                                                    <div style={styles.regionStat}>
                                                        <span style={{
                                                            ...styles.regionStatValue,
                                                            color: regionData.active_count > 0 ? '#16a34a' : '#6b7280'
                                                        }}>
                                                            {regionData.active_count}
                                                        </span>
                                                        <span style={styles.regionStatLabel}>Active</span>
                                                    </div>
                                                </div>
                                            </div>

                                            {/* Top Cities Preview */}
                                            <div style={styles.citiesPreview}>
                                                <span style={styles.citiesLabel}>Top Cities:</span>
                                                <div style={styles.citiesList}>
                                                    {Object.keys(regionData.cities || {}).slice(0, 3).map(city => (
                                                        <span key={city} style={styles.cityTag}>{city}</span>
                                                    ))}
                                                    {Object.keys(regionData.cities || {}).length > 3 && (
                                                        <span style={styles.moreCities}>
                                                            +{Object.keys(regionData.cities || {}).length - 3} more
                                                        </span>
                                                    )}
                                                </div>
                                            </div>

                                            <div style={styles.viewDetails}>
                                                Click to view details ‚Üí
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            )}
                        </div>
                    )}

                    {/* {activeTab === "uploadMonthly" && (
                        <div style={styles.uploadContainer}>
                          
                            <div style={styles.uploadHeader}>
                                <div style={styles.headerLeft}>
                                    <FiUpload size={32} style={{ color: '#3b82f6', marginRight: 10 }} />
                                    <div>
                                        <h2 style={styles.uploadTitle}>Upload Monthly Active Sheet</h2>
                                        
                                    </div>
                                </div>
                            </div>

                         
                            <div>
                                <input type="file" onChange={handleMonthlyFileChange} style={styles.fileInput}  />
                                <button onClick={uploadMonthlySheet} disabled={!monthlyFile} style={styles.uploadButton} >
                                    Upload
                                </button>
                                
                            </div>

                          
                            {uploadStatus && (
                                <div style={styles.uploadStatus}>
                                    <p>{uploadStatus}</p>
                                </div>
                            )}

                            {employeeData.length > 0 && (
                                <div style={styles.tableContainer}>
                                    <h3 style={styles.tableTitle}>Uploaded Employee Data</h3>
                                    <table style={styles.table}>
                                        <thead>
                                            <tr>
                                                <th>Employee ID</th>
                                                <th>Full Name</th>
                                                <th>Department</th>
                                                <th>Company</th>
                                                <th>Location</th>
                                                <th>Years of Service</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {employeeData.map((emp, idx) => (
                                                <tr key={idx}>
                                                    <td>{emp.employee_id}</td>
                                                    <td>{emp.full_name}</td>
                                                    <td>{emp.department_name}</td>
                                                    <td>{emp.company_name}</td>
                                                    <td>{emp.location_city}</td>
                                                    <td>{emp.years_of_service}</td>
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            )}
                        </div>
                    )} */}




                    {activeTab === "uploadMonthly" && (
                        <div style={styles.uploadContainer}>
                            {/* Header */}
                            <div style={styles.uploadHeader}>
                                <div style={styles.headerLeft}>
                                    <div style={styles.uploadIcon}>
                                        <FiUpload size={32} />
                                    </div>
                                    <div>
                                        <h2 style={styles.uploadTitle}>Upload Monthly Active Sheet</h2>
                                        <p style={styles.uploadSubtitle}>
                                            Upload the latest monthly employee file
                                        </p>
                                    </div>
                                </div>
                               
                            </div>

                            {/* Upload Card */}
                            <div style={styles.uploadCard}>
                                <div style={styles.uploadArea}>
                                    <FiUploadCloud size={48} style={styles.uploadCloudIcon} />
                                    <h3 style={styles.uploadAreaTitle}>Drop your file here</h3>
                                    <p style={styles.uploadAreaSubtitle}>Supports .xlsx, .xls, .csv files up to 10MB</p>

                                      <label htmlFor="monthly-file-upload" style={styles.fileInputLabel}>
                                        <FiFolder style={{ marginRight: 8 }} />
                                        Choose File
                                    </label>
                                    <input
                                        // id="file-upload"
                                         id="monthly-file-upload"
                                        type="file"
                                        onChange={handleMonthlyFileChange}
                                        style={styles.hiddenFileInput}
                                        accept=".xlsx,.xls,.csv"
                                    />

                                    {monthlyFile && (
                                        <div style={styles.filePreview}>
                                            <FiFile style={styles.fileIcon} />
                                            <div style={styles.fileInfo}>
                                                <span style={styles.fileName}>{monthlyFile.name}</span>
                                                <span style={styles.fileSize}>
                                                    {(monthlyFile.size / 1024 / 1024).toFixed(2)} MB
                                                </span>
                                            </div>
                                            <button
                                                onClick={() => setMonthlyFile(null)}
                                                style={styles.removeFileButton}
                                            >
                                                <FiX />
                                            </button>
                                        </div>
                                    )}
                                </div>

                                {/* Upload Button */}
                                <button
                                    onClick={uploadMonthlySheet}
                                    disabled={!monthlyFile || uploadStatus?.includes('Uploading')}
                                    style={!monthlyFile ? styles.uploadButtonDisabled : styles.uploadButton}
                                >
                                    {uploadStatus?.includes('Uploading') ? (
                                        <>
                                            <FiLoader size={16} style={{ marginRight: 8, animation: 'spin 1s linear infinite' }} />
                                            Uploading...
                                        </>
                                    ) : (
                                        <>
                                            <FiUpload style={{ marginRight: 8 }} />
                                            Process Upload
                                        </>
                                    )}
                                </button>
                            </div>

                            {/* Upload Status & Metadata */}
                            {uploadStatus && (
                                <div style={uploadStatus.includes('Error') ? styles.uploadStatusError : styles.uploadStatusSuccess}>
                                    <div style={styles.statusHeader}>
                                        {uploadStatus.includes('Error') ? <FiAlertCircle size={20} /> : <FiCheckCircle size={20} />}
                                        <span style={styles.statusTitle}>
                                            {uploadStatus.includes('Error') ? 'Upload Failed' : 'Upload Successful'}
                                        </span>
                                    </div>
                                    <p style={styles.statusMessage}>{uploadStatus}</p>

                                    {/* Upload Metadata */}
                                    {!uploadStatus.includes('Error') && monthlyFile && (
                                        <div style={styles.metadataGrid}>
                                            <div style={styles.metadataItem}>
                                                <span style={styles.metadataLabel}>File Name</span>
                                                <span style={styles.metadataValue}>{monthlyFile.name}</span>
                                            </div>
                                            <div style={styles.metadataItem}>
                                                <span style={styles.metadataLabel}>File Size</span>
                                                <span style={styles.metadataValue}>
                                                    {(monthlyFile.size / 1024 / 1024).toFixed(2)} MB
                                                </span>
                                            </div>
                                            <div style={styles.metadataItem}>
                                                <span style={styles.metadataLabel}>Upload Date</span>
                                                <span style={styles.metadataValue}>
                                                    {new Date().toLocaleDateString()} at {new Date().toLocaleTimeString()}
                                                </span>
                                            </div>
                                            <div style={styles.metadataItem}>
                                                <span style={styles.metadataLabel}>Records Processed</span>
                                                <span style={styles.metadataValue}>{employeeData.length} employees</span>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            )}

                            {/* Uploaded Data Summary */}
                            {employeeData.length > 0 && (
                                <div style={styles.summaryCard}>
                                    <div style={styles.summaryHeader}>
                                        <h3 style={styles.summaryTitle}>Upload Summary</h3>
                                        <div style={styles.summaryStats}>
                                            <div style={styles.summaryStat}>
                                                <FiUsers style={styles.summaryIcon} />
                                                <span style={styles.summaryNumber}>{employeeData.length}</span>
                                                <span style={styles.summaryLabel}>Total Employees</span>
                                            </div>
                                            <div style={styles.summaryStat}>
                                                <FiMapPin style={styles.summaryIcon} />
                                                <span style={styles.summaryNumber}>
                                                    {new Set(employeeData.map(emp => emp.location_city)).size}
                                                </span>
                                                <span style={styles.summaryLabel}>Locations</span>
                                            </div>
                                            <div style={styles.summaryStat}>
                                                <FiBriefcase style={styles.summaryIcon} />
                                                <span style={styles.summaryNumber}>
                                                    {new Set(employeeData.map(emp => emp.department_name)).size}
                                                </span>
                                                <span style={styles.summaryLabel}>Departments</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* Uploaded Data Table */}
                            {employeeData.length > 0 && (
                                <div style={styles.tableContainer}>
                                    <div style={styles.tableHeader}>
                                        <h3 style={styles.tableTitle}>Employee Records</h3>
                                        <div style={styles.tableActions}>
                                            <button style={styles.exportButton}>
                                                <FiDownload style={{ marginRight: 6 }} />
                                                Export CSV
                                            </button>
                                            <div style={styles.searchBox}>
                                                <FiSearch style={styles.searchIcon} />
                                                <input
                                                    type="text"
                                                    placeholder="Search employees..."
                                                    style={styles.searchInput}
                                                />
                                            </div>
                                        </div>
                                    </div>

                                    <div style={styles.tableWrapper}>
                                        <table style={styles.table}>
                                            <thead style={styles.tableHead}>
                                                <tr>
                                                    <th style={styles.tableHeader}>Employee ID</th>
                                                    <th style={styles.tableHeader}>Full Name</th>
                                                    <th style={styles.tableHeader}>Department</th>
                                                    <th style={styles.tableHeader}>Company</th>
                                                    <th style={styles.tableHeader}>Location</th>
                                                    <th style={styles.tableHeader}>Years of Service</th>
                                                    <th style={styles.tableHeader}>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {employeeData.map((emp, idx) => (
                                                    <tr key={idx} style={styles.tableRow}>
                                                        <td style={styles.tableCell}>
                                                            <div style={styles.employeeId}>
                                                                <FiUser style={{ marginRight: 6 }} />
                                                                {emp.employee_id}
                                                            </div>
                                                        </td>
                                                        <td style={styles.tableCell}>
                                                            <div style={styles.employeeName}>
                                                                <span style={styles.name}>{emp.full_name}</span>
                                                                <span style={styles.email}>{emp.employee_email}</span>
                                                            </div>
                                                        </td>
                                                        <td style={styles.tableCell}>
                                                            <span style={styles.department}>{emp.department_name}</span>
                                                        </td>
                                                        <td style={styles.tableCell}>
                                                            <span style={styles.company}>{emp.company_name}</span>
                                                        </td>
                                                        <td style={styles.tableCell}>
                                                            <div style={styles.location}>
                                                                <FiMapPin size={12} style={{ marginRight: 4 }} />
                                                                {emp.location_city}
                                                            </div>
                                                        </td>
                                                        <td style={styles.tableCell}>
                                                            <div style={styles.serviceBadge}>
                                                                {emp.years_of_service} years
                                                            </div>
                                                        </td>
                                                        <td style={styles.tableCell}>
                                                            <div style={emp.current_status === 'Active' ? styles.statusActive : styles.statusInactive}>
                                                                {emp.current_status || 'Active'}
                                                            </div>
                                                        </td>
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                    </div>

                                    {/* Table Footer */}
                                    <div style={styles.tableFooter}>
                                        <span style={styles.footerText}>
                                            Showing {employeeData.length} of {employeeData.length} records
                                        </span>
                                        <div style={styles.pagination}>
                                            <button style={styles.paginationButton} disabled>
                                                <FiChevronLeft />
                                            </button>
                                            <span style={styles.paginationInfo}>Page 1 of 1</span>
                                            <button style={styles.paginationButton} disabled>
                                                <FiChevronRight />
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                    )}

                    {/* ................. */}

                </main>
            </div>
        </div>
    );
};


const layout = {
    display: "grid",
    gridTemplateColumns: "280px 1fr",
    gap: "24px",
    alignItems: "start",
};



const statContent = {
    flex: 1,
};



const primaryBtn = {
    display: "flex",
    alignItems: "center",
    padding: "12px 20px",
    background: "#3b82f6",
    color: "white",
    border: "none",
    borderRadius: "8px",
    cursor: "pointer",
    fontSize: "14px",
    fontWeight: 600,
    transition: "all 0.2s ease",
};

const disabledPrimaryBtn = {
    ...primaryBtn,
    background: "#94a3b8",
    cursor: "not-allowed",
};


const rowEven = {
    background: "white",
};

const rowOdd = {
    background: "#f8fafc",
};



const activeBadge = {
    display: "flex",
    alignItems: "center",
    gap: "4px",
    padding: "4px 8px",
    background: "#dcfce7",
    color: "#16a34a",
    borderRadius: "12px",
    fontSize: "12px",
    fontWeight: 500,
    width: "fit-content",
};

const inactiveBadge = {
    display: "flex",
    alignItems: "center",
    gap: "4px",
    padding: "4px 8px",
    background: "#fef2f2",
    color: "#dc2626",
    borderRadius: "12px",
    fontSize: "12px",
    fontWeight: 500,
    width: "fit-content",
};



const viewButton = {
    display: "flex",
    alignItems: "center",
    gap: "4px",
    padding: "6px 12px",
    background: "#3b82f6",
    color: "white",
    border: "none",
    borderRadius: "6px",
    cursor: "pointer",
    fontSize: "12px",
    fontWeight: 500,
    transition: "all 0.2s ease",
};




const chartBarWrapper = {
    display: "flex",
    flexDirection: "column",
    gap: "4px",
};

const chartBarLabel = {
    display: "flex",
    justifyContent: "space-between",
    fontSize: "12px",
    color: "#64748b",
};




// Existing loader styles
const style = {
    overlay: {
        position: "fixed",
        top: 0,
        left: 0,
        right: 0,
        bottom: 0,
        backgroundColor: "rgba(0, 0, 0, 0.7)",
        display: "flex",
        flexDirection: "column",
        justifyContent: "center",
        alignItems: "center",
        zIndex: 9999,
        color: "#fff",
        fontSize: "16px",
        backdropFilter: "blur(4px)",
    },
    loader: {
        fontSize: "10px",
        width: "1em",
        height: "1em",
        borderRadius: "50%",
        position: "relative",
        textIndent: "-9999em",
        animation: "mulShdSpin 1.1s infinite ease",
        transform: "translateZ(0)",
    },
    text: {
        marginTop: "17px",
    },
};

const keyframes = `
@keyframes mulShdSpin {
    0%, 100% { box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0; }
    12.5% { box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em; }
    25% { box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em; }
    37.5% { box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 0, 2em 2em 0 0.2em, 0 3em 0 0, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em; }
    50% { box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0 0 -1em, -2em -2em 0 -1em; }
    62.5% { box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em; }
    75% { box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0 0 0.2em, -2em -2em 0 0; }
    87.5% { box-shadow: 0 -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 0, -2em -2em 0 0.2em; }
}
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
`;





// üÜï Theme-aware style functions
const getStyles = (isDark) => ({



    // üìùüìùüìùüìùüìùüìùüìùüìù
    // üÜï Compact Upload Styles
    compactUploadRow: {
        display: "flex",
        alignItems: "center",
        gap: "12px",
        marginBottom: "20px",
    },

    compactFileUpload: {
        flex: 1,
    },

    compactFileLabel: {
        display: "flex",
        alignItems: "center",
        gap: "8px",
        padding: "8px 12px",
        background: isDark ? "#374151" : "#f3f4f6",
        border: `1px solid ${isDark ? "#4b5563" : "#d1d5db"}`,
        borderRadius: "6px",
        cursor: "pointer",
        fontSize: "14px",
        fontWeight: "500",
        color: isDark ? "#d1d5db" : "#374151",
        transition: "all 0.2s ease",
        ':hover': {
            background: isDark ? "#4b5563" : "#e5e7eb",
        }
    },

    compactButtonGroup: {
        display: "flex",
        gap: "8px",
    },

    compactPrimaryBtn: {
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        padding: "8px",
        background: "#3b82f6",
        color: "white",
        border: "none",
        borderRadius: "6px",
        cursor: "pointer",
        fontSize: "14px",
        fontWeight: "600",
        transition: "all 0.2s ease",
        minWidth: "36px",
        ':hover': {
            background: "#2563eb",
        }
    },

    disabledCompactBtn: {
        // ...this.compactPrimaryBtn,
        background: "#9ca3af",
        cursor: "not-allowed",
        ':hover': {
            background: "#9ca3af",
        }
    },

    compactSecondaryBtn: {
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        padding: "8px",
        background: "transparent",
        color: isDark ? "#d1d5db" : "#374151",
        border: `1px solid ${isDark ? "#4b5563" : "#d1d5db"}`,
        borderRadius: "6px",
        cursor: "pointer",
        fontSize: "14px",
        fontWeight: "600",
        transition: "all 0.2s ease",
        minWidth: "36px",
        ':hover': {
            background: isDark ? "#4b5563" : "#f3f4f6",
        }
    },

    compactGhostBtn: {
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        padding: "8px",
        background: "transparent",
        color: "#3b82f6",
        border: "1px solid #3b82f6",
        borderRadius: "6px",
        cursor: "pointer",
        fontSize: "14px",
        fontWeight: "600",
        transition: "all 0.2s ease",
        minWidth: "36px",
        ':hover': {
            background: "rgba(59, 130, 246, 0.1)",
        }
    },

    smallSpinner: {
        width: "14px",
        height: "14px",
        border: "2px solid transparent",
        borderTop: "2px solid currentColor",
        borderRadius: "50%",
        animation: "spin 1s linear infinite",
    },

    // üÜï Region Cards Styles
    regionCardsSection: {
        marginBottom: "24px",
        paddingBottom: "20px",
        borderBottom: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e5e7eb",
    },

    regionCardsGrid: {
        display: "grid",
        gridTemplateColumns: "repeat(auto-fit, minmax(140px, 1fr))",
        gap: "12px",
    },

    regionCard: {
        background: isDark ? "rgba(30, 41, 59, 0.5)" : "#f8fafc",
        padding: "16px",
        borderRadius: "8px",
        border: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e2e8f0",
        cursor: "pointer",
        transition: "all 0.3s ease",
        textAlign: "center",
        ':hover': {
            transform: "translateY(-2px)",
            boxShadow: isDark ?
                "0 4px 12px rgba(0, 0, 0, 0.3)" :
                "0 4px 12px rgba(0, 0, 0, 0.1)",
        }
    },

    regionCardActive: {
        borderColor: isDark ? "rgba(59, 130, 246, 0.5)" : "rgba(37, 99, 235, 0.5)",
        background: isDark ? "rgba(59, 130, 246, 0.1)" : "rgba(37, 99, 235, 0.05)",
    },

    regionCardHeader: {
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        gap: "8px",
        marginBottom: "12px",
    },

    regionIcon: {
        width: "32px",
        height: "32px",
        borderRadius: "8px",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        color: "white",
        fontSize: "14px",
    },

    regionName: {
        fontSize: "12px",
        fontWeight: "700",
        color: isDark ? "#f1f5f9" : "#0f172a",
        textTransform: "uppercase",
        letterSpacing: "0.05em",
    },

    regionCardStats: {
        marginBottom: "8px",
    },

    regionCount: {
        fontSize: "20px",
        fontWeight: "800",
        color: isDark ? "#f1f5f9" : "#0f172a",
        display: "block",
        lineHeight: "1.2",
    },

    regionLabel: {
        fontSize: "10px",
        color: isDark ? "#94a3b8" : "#6b7280",
        textTransform: "uppercase",
        letterSpacing: "0.05em",
    },

    regionCardActive: {
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        gap: "4px",
        fontSize: "10px",
        color: isDark ? "#94a3b8" : "#6b7280",
    },

    activeDot: {
        width: "6px",
        height: "6px",
        borderRadius: "50%",
        background: "#10b981",
    },

    // üìùüìùüìùüìùüìùüìùüìùüìù

    // /////////////////


    // ///

    // Combined Location Styles
    combinedLocationCell: {
        display: 'flex',
        flexDirection: 'column',
        gap: '2px',
        minWidth: '120px',
        maxWidth: '180px',
    },

    locationRow: {
        display: 'flex',
        alignItems: 'center',
        fontSize: '13px',
        lineHeight: '1.2',
    },

    countryRow: {
        display: 'flex',
        alignItems: 'center',
        fontSize: '11px',
        lineHeight: '1.2',
        opacity: '0.8',
    },

    locationText: {
        overflow: 'hidden',
        textOverflow: 'ellipsis',
        whiteSpace: 'nowrap',
        flex: 1,
    },

    countryText: {
        overflow: 'hidden',
        textOverflow: 'ellipsis',
        whiteSpace: 'nowrap',
        flex: 1,
        color: isDark ? '#9ca3af' : '#6b7280',
        fontWeight: '400',
    },

    // Remove or keep these if you want to use them elsewhere
    locationCell: {
        display: 'flex',
        alignItems: 'center',
        fontSize: '14px',
    },

    countryCell: {
        display: 'flex',
        alignItems: 'center',
        fontSize: '14px',
        fontWeight: '500',
        color: isDark ? '#cbd5e1' : '#374151',
    },

    empId: {
        fontSize: '14px',
        fontWeight: '500',
        color: isDark ? '#cbd5e1' : '#374151',
    },
    // ///


    // Table Styles
    locationCell: {
        display: 'flex',
        alignItems: 'center',
        fontSize: '14px',
        maxWidth: '150px',
        overflow: 'hidden',
        textOverflow: 'ellipsis',
        whiteSpace: 'nowrap',
    },

    countryCell: {
        display: 'flex',
        alignItems: 'center',
        fontSize: '14px',
        fontWeight: '500',
        color: isDark ? '#cbd5e1' : '#374151',
    },

    empId: {
        fontSize: '14px',
        fontWeight: '500',
        color: isDark ? '#cbd5e1' : '#374151',
    },

    // Popup Styles
    detailsContainer: {
        padding: '0',
    },

    // detailSection: {
    //     padding: '20px 24px',
    //     borderBottom: isDark ? '1px solid #374151' : '1px solid #f3f4f6',
    //     ':last-child': {
    //         borderBottom: 'none',
    //     }
    // },

    detailSection: {
        display: "flex",
        flexDirection: "column",
        gap: "10px",
        borderTop: "1px solid #374151",

    },

    sectionHeader: {
        display: 'flex',
        alignItems: 'center',
        gap: '8px',
        marginBottom: '16px',
    },

    sectionIcon: {
        color: '#3b82f6',
        fontSize: '16px',
    },

    sectionTitle: {
        fontSize: '16px',
        fontWeight: '600',
        color: isDark ? '#f3f4f6' : '#374151',
        margin: 0,
    },

    detailList: {
        display: 'flex',
        flexDirection: 'column',
        gap: '5px',
    },

    // detailRow: {
    //     display: 'flex',
    //     justifyContent: 'space-between',
    //     alignItems: 'flex-start',
    // },

    detailRow: {
        display: "grid",
        gridTemplateColumns: "1fr 1fr",
        gap: "16px",
    },

    detailLabel: {
        fontSize: '14px',
        color: isDark ? '#9ca3af' : '#6b7280',
        fontWeight: '500',
        flex: 1,
    },

    // detailValue: {
    //     fontSize: '14px',
    //     color: isDark ? '#e5e7eb' : '#374151',
    //     fontWeight: '400',
    //     flex: 1,
    //     textAlign: 'right',
    //     display: 'flex',
    //     alignItems: 'center',
    //     justifyContent: 'flex-end',
    // },

    detailValue: {
        fontSize: "14px",
        color: isDark ? "#e5e7eb" : "#374151",
        fontWeight: 500,
        display: "flex",
        alignItems: "center",
    },

    inlineIcon: {
        marginRight: '6px',
    },

    statusTag: {
        padding: '4px 8px',
        borderRadius: '6px',
        fontSize: '12px',
        fontWeight: '500',
    },

    activeTag: {
        background: isDark ? '#065f46' : '#dcfce7',
        color: isDark ? '#34d399' : '#16a34a',
    },

    inactiveTag: {
        background: isDark ? '#374151' : '#f3f4f6',
        color: isDark ? '#9ca3af' : '#6b7280',
    },
    // /////////////////

    page: {
        backgroundColor: isDark ? "#0f172a" : "#f8fafc",
        minHeight: "100vh",
        padding: "24px",
        color: isDark ? "#e2e8f0" : "#1e293b",
        fontFamily: "'Inter', 'Segoe UI', system-ui, sans-serif",
        lineHeight: "1.5",
        transition: "all 0.3s ease",
    },

    header: {
        marginBottom: "32px",
    },

    headerContent: {
        display: "flex",
        alignItems: "center",
        gap: "16px",
    },

    headerIcon: {
        background: "linear-gradient(135deg, #3b82f6, #1d4ed8)",
        color: "white",
        padding: "16px",
        borderRadius: "12px",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
    },

    title: {
        fontSize: "28px",
        fontWeight: 700,
        color: isDark ? "#f1f5f9" : "#0f172a",
        margin: 0,
        lineHeight: "1.2",
    },

    subtitle: {
        fontSize: "16px",
        color: isDark ? "#94a3b8" : "#64748b",
        margin: 0,
    },

    // üÜï Theme Toggle Button
    themeToggleBtn: {
        background: isDark ? "#334155" : "#e2e8f0",
        color: isDark ? "#fbbf24" : "#64748b",
        border: "none",
        padding: "12px",
        borderRadius: "8px",
        cursor: "pointer",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        transition: "all 0.2s ease",
        ':hover': {
            background: isDark ? "#475569" : "#d1d5db",
        }
    },

    layout: {
        display: "grid",
        gridTemplateColumns: "280px 1fr",
        gap: "24px",
        alignItems: "start",
    },

    sidebar: {
        display: "flex",
        flexDirection: "column",
        gap: "20px",
    },

    nav: {
        display: "flex",
        flexDirection: "column",
        gap: "8px",

    },

    navItem: {
        display: "flex",
        alignItems: "center",
        gap: "12px",
        padding: "12px 16px",
        border: "none",
        background: "transparent",
        borderRadius: "8px",
        cursor: "pointer",
        fontSize: "14px",
        fontWeight: 500,
        color: isDark ? "#94a3b8" : "#64748b",
        transition: "all 0.2s ease",
        border: "1px solid #3b82f6"
    },

    navItemActive: {
        background: "#3b82f6",
        color: "white",
    },

    navIcon: {
        fontSize: "18px",
    },

    sideCard: {
        background: isDark ? "#1e293b" : "white",
        padding: "20px",
        borderRadius: "12px",
        boxShadow: isDark ? "0 1px 3px rgba(0,0,0,0.3)" : "0 1px 3px rgba(0,0,0,0.1)",
        border: isDark ? "1px solid #334155" : "1px solid #e2e8f0",
        transition: "all 0.3s ease",
    },

    cardHeader: {
        display: "flex",
        alignItems: "center",
        gap: "12px",
        marginBottom: "16px",
    },

    cardIcon: {
        color: "#3b82f6",
        fontSize: "18px",
    },

    sideTitle: {
        fontSize: "16px",
        fontWeight: 600,
        color: isDark ? "#f1f5f9" : "#1e293b",
        margin: 0,
    },

    statsGrid: {
        display: "flex",
        flexDirection: "column",
        gap: "12px",
    },

    statItem: {
        display: "flex",
        alignItems: "center",
        gap: "12px",
        padding: "12px",
        background: isDark ? "#334155" : "#f8fafc",
        borderRadius: "8px",
        transition: "all 0.3s ease",
    },

    statIconWrapper: {
        padding: "8px",
        borderRadius: "8px",
        background: isDark ? "#1e40af" : "#dbeafe",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
    },

    statIcon: {
        color: "#3b82f6",
        fontSize: "16px",
    },

    statContent: {
        flex: 1,
    },

    statLabel: {
        fontSize: "12px",
        color: isDark ? "#cbd5e1" : "#64748b",
        display: "block",
    },

    statValue: {
        fontSize: "18px",
        fontWeight: 700,
        color: isDark ? "#f1f5f9" : "#1e293b",
        display: "block",
    },

    countryList: {
        listStyle: "none",
        padding: 0,
        margin: 0,
        display: "flex",
        flexDirection: "column",
        gap: "8px",
    },

    countryItem: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        padding: "8px 0",
        borderBottom: isDark ? "1px solid #334155" : "1px solid #f1f5f9",
    },

    countryInfo: {
        display: "flex",
        alignItems: "center",
        gap: "8px",
    },

    countryRank: {
        background: "#3b82f6",
        color: "white",
        fontSize: "12px",
        fontWeight: 600,
        width: "20px",
        height: "20px",
        borderRadius: "4px",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
    },

    countryName: {
        fontSize: "14px",
        fontWeight: 500,
        color: isDark ? "#e2e8f0" : "#1e293b",
    },

    countryCount: {
        fontSize: "14px",
        fontWeight: 600,
        color: "#3b82f6",
    },

    emptyState: {
        display: "flex",
        flexDirection: "column",
        alignItems: "center",
        justifyContent: "center",
        padding: "40px 20px",
        color: isDark ? "#94a3b8" : "#64748b",
        textAlign: "center",
    },

    sideEmpty: {
        fontSize: "14px",
        color: isDark ? "#64748b" : "#94a3b8",
        margin: 0,
    },

    main: {
        display: "flex",
        flexDirection: "column",
        gap: "24px",
    },

    card: {
        background: isDark ? "#1e293b" : "white",
        padding: "24px",
        borderRadius: "12px",
        boxShadow: isDark ? "0 1px 3px rgba(0,0,0,0.3)" : "0 1px 3px rgba(0,0,0,0.1)",
        border: isDark ? "1px solid #334155" : "1px solid #e2e8f0",
        transition: "all 0.3s ease",
    },

    uploadRow: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        gap: "16px",
        marginBottom: "20px",
    },

    fileUploadWrapper: {
        flex: 1,
    },

    fileInput: {
        display: "none",
    },

    fileInputLabel: {
        display: "flex",
        alignItems: "center",
        padding: "12px 16px",
        background: isDark ? "#334155" : "#f8fafc",
        border: `2px dashed ${isDark ? "#475569" : "#cbd5e1"}`,
        borderRadius: "8px",
        cursor: "pointer",
        fontSize: "14px",
        fontWeight: 500,
        color: isDark ? "#cbd5e1" : "#64748b",
        transition: "all 0.2s ease",
    },

    buttonGroup: {
        display: "flex",
        gap: "12px",
    },

    primaryBtn: {
        display: "flex",
        alignItems: "center",
        padding: "12px 20px",
        background: "#3b82f6",
        color: "white",
        border: "none",
        borderRadius: "8px",
        cursor: "pointer",
        fontSize: "14px",
        fontWeight: 600,
        transition: "all 0.2s ease",
    },

    disabledPrimaryBtn: {
        display: "flex",
        alignItems: "center",
        padding: "12px 20px",
        background: isDark ? "#475569" : "#94a3b8",
        color: isDark ? "#94a3b8" : "white",
        border: "none",
        borderRadius: "8px",
        cursor: "not-allowed",
        fontSize: "14px",
        fontWeight: 600,
    },

    secondaryBtn: {
        display: "flex",
        alignItems: "center",
        padding: "12px 20px",
        background: "transparent",
        color: isDark ? "#cbd5e1" : "#64748b",
        border: isDark ? "1px solid #475569" : "1px solid #cbd5e1",
        borderRadius: "8px",
        cursor: "pointer",
        fontSize: "14px",
        fontWeight: 500,
        transition: "all 0.2s ease",
    },

    ghostBtn: {
        display: "flex",
        alignItems: "center",
        padding: "12px 20px",
        background: "transparent",
        color: "#3b82f6",
        border: "1px solid #3b82f6",
        borderRadius: "8px",
        cursor: "pointer",
        fontSize: "14px",
        fontWeight: 500,
        transition: "all 0.2s ease",
    },

    spinner: {
        width: "16px",
        height: "16px",
        border: "2px solid transparent",
        borderTop: "2px solid currentColor",
        borderRadius: "50%",
        animation: "spin 1s linear infinite",
        marginRight: "8px",
    },

    filtersSection: {
        marginBottom: "20px",
    },

    filtersHeader: {
        display: "flex",
        alignItems: "center",
        marginBottom: "16px",
    },

    filtersTitle: {
        fontSize: "16px",
        fontWeight: 600,
        color: isDark ? "#f1f5f9" : "#1e293b",
    },

    filtersRow: {
        display: "flex",
        gap: "12px",
        alignItems: "center",
    },

    searchWrapper: {
        position: "relative",
        flex: 1,
    },

    searchIcon: {
        position: "absolute",
        left: "12px",
        top: "50%",
        transform: "translateY(-50%)",
        color: isDark ? "#94a3b8" : "#64748b",
    },

    searchInput: {
        width: "100%",
        padding: "12px 12px 12px 40px",
        border: isDark ? "1px solid #475569" : "1px solid #cbd5e1",
        borderRadius: "8px",
        fontSize: "14px",
        outline: "none",
        background: isDark ? "#334155" : "white",
        color: isDark ? "#e2e8f0" : "#1e293b",
        transition: "all 0.2s ease",
        '::placeholder': {
            color: isDark ? "#ffffffff" : "#ffffffff",
        }
    },

    select: {
        padding: "12px",
        border: isDark ? "1px solid #475569" : "1px solid #cbd5e1",
        borderRadius: "8px",
        fontSize: "14px",
        background: isDark ? "#334155" : "white",
        color: isDark ? "#e2e8f0" : "#1e293b",
        outline: "none",
        minWidth: "140px",
    },

    tableHeader: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        marginBottom: "16px",
    },

    tableTitle: {
        fontSize: "18px",
        fontWeight: 600,
        color: isDark ? "#f1f5f9" : "#1e293b",
        margin: 0,
    },

    tableBadge: {
        background: "#3b82f6",
        color: "white",
        padding: "4px 12px",
        borderRadius: "20px",
        fontSize: "12px",
        fontWeight: 600,
    },

    tableWrap: {
        overflowX: "auto",
        borderRadius: "8px",
        border: isDark ? "1px solid #334155" : "1px solid #e2e8f0",
    },

    table: {
        width: "100%",
        borderCollapse: "collapse",
        fontSize: "14px",
    },

    thead: {
        background: isDark ? "#334155" : "#f8fafc",
    },

    th: {
        padding: "12px 16px",
        textAlign: "left",
        fontWeight: 600,
        color: isDark ? "#cbd5e1" : "#475569",
        borderBottom: isDark ? "1px solid #475569" : "1px solid #e2e8f0",
        fontSize: "12px",
        textTransform: "uppercase",
        letterSpacing: "0.05em",
    },

    td: {
        padding: "16px",
        borderBottom: isDark ? "1px solid #334155" : "1px solid #f1f5f9",
        color: isDark ? "#e2e8f0" : "#1e293b",
        background: isDark ? "#1e293b" : "white",

    },

    rowEven: {
        background: isDark ? "#1e293b" : "white",
    },

    rowOdd: {
        background: isDark ? "#334155" : "#f8fafc",
    },

    emptyRow: {
        textAlign: "center",
        padding: "40px",
    },

    emptySubtext: {
        fontSize: "14px",
        color: isDark ? "#94a3b8" : "#94a3b8",
        margin: 0,
    },

    activeBadge: {
        display: "flex",
        alignItems: "center",
        gap: "4px",
        padding: "4px 8px",
        background: isDark ? "#065f46" : "#dcfce7",
        color: isDark ? "#34d399" : "#16a34a",
        borderRadius: "12px",
        fontSize: "12px",
        fontWeight: 500,
        width: "fit-content",
    },

    inactiveBadge: {
        display: "flex",
        alignItems: "center",
        gap: "4px",
        padding: "4px 8px",
        background: isDark ? "#7f1d1d" : "#fef2f2",
        color: isDark ? "#fca5a5" : "#dc2626",
        borderRadius: "12px",
        fontSize: "12px",
        fontWeight: 500,
        width: "fit-content",
    },

    userCell: {
        display: "flex",
        alignItems: "center",
        gap: "8px",
    },

    avatar: {
        width: "32px",
        height: "32px",
        borderRadius: "50%",
        background: isDark ? "#475569" : "#e2e8f0",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        color: isDark ? "#cbd5e1" : "#64748b",
    },

    emailCell: {
        display: "flex",
        alignItems: "center",
    },

    typeBadge: {
        padding: "4px 8px",
        background: isDark ? "#1e40af" : "#dbeafe",
        color: isDark ? "#93c5fd" : "#1d4ed8",
        borderRadius: "6px",
        fontSize: "12px",
        fontWeight: 500,
    },

    dateCell: {
        display: "flex",
        alignItems: "center",
    },

    viewButton: {
        display: "flex",
        alignItems: "center",
        gap: "4px",
        padding: "6px 12px",
        background: "#3b82f6",
        color: "white",
        border: "none",
        borderRadius: "6px",
        cursor: "pointer",
        fontSize: "12px",
        fontWeight: 500,
        transition: "all 0.2s ease",
    },

    // Analytics Styles
    analyticsGrid: {
        display: "grid",
        gridTemplateColumns: "1fr 1fr",
        gap: "20px",
    },

    analyticsCard: {
        background: isDark ? "#1e293b" : "white",
        padding: "20px",
        borderRadius: "12px",
        boxShadow: isDark ? "0 1px 3px rgba(0,0,0,0.3)" : "0 1px 3px rgba(0,0,0,0.1)",
        border: isDark ? "1px solid #334155" : "1px solid #e2e8f0",
    },

    analyticsTitle: {
        fontSize: "16px",
        fontWeight: 600,
        color: isDark ? "#f1f5f9" : "#1e293b",
        margin: "0 0 16px 0",
    },

    analyticsStats: {
        display: "flex",
        flexDirection: "column",
        gap: "12px",
    },

    analyticsStat: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        padding: "12px",
        background: isDark ? "#334155" : "#f8fafc",
        borderRadius: "8px",
    },

    analyticsLabel: {
        fontSize: "14px",
        color: isDark ? "#cbd5e1" : "#64748b",
    },

    analyticsValue: {
        fontSize: "16px",
        fontWeight: 600,
        color: isDark ? "#f1f5f9" : "#1e293b",
    },

    countryChart: {
        display: "flex",
        flexDirection: "column",
        gap: "12px",
    },

    chartBarWrapper: {
        display: "flex",
        flexDirection: "column",
        gap: "4px",
    },

    chartBarLabel: {
        display: "flex",
        justifyContent: "space-between",
        fontSize: "12px",
        color: isDark ? "#94a3b8" : "#64748b",
    },

    chartBarTrack: {
        height: "8px",
        background: isDark ? "#334155" : "#e2e8f0",
        borderRadius: "4px",
        overflow: "hidden",
    },

    chartBarFill: {
        height: "100%",
        background: "linear-gradient(90deg, #3b82f6, #1d4ed8)",
        borderRadius: "4px",
        transition: "width 0.3s ease",
    },



    // üÜï Enhanced Popup Styles
    popupOverlay: {
        position: "fixed",
        top: 0,
        left: 0,
        right: 0,
        bottom: 0,
        background: "rgba(0, 0, 0, 0.7)",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        zIndex: 1000,
        padding: "20px",
        backdropFilter: "blur(4px)",
    },

    popupContent: {
        background: isDark ? "#1e293b" : "white",
        borderRadius: "16px",
        padding: "0",
        maxWidth: "600px",
        width: "100%",
        maxHeight: "85vh",
        overflow: "hidden",
        boxShadow: "0 25px 50px -12px rgba(0, 0, 0, 0.25)",
        border: isDark ? "1px solid #374151" : "1px solid #e5e7eb",
    },

    popupHeader: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "flex-start",
        padding: "24px",
        borderBottom: isDark ? "1px solid #374151" : "1px solid #f3f4f6",
        background: isDark ? "linear-gradient(135deg, #1e293b, #374151)" : "linear-gradient(135deg, #f8fafc, #f1f5f9)",
    },

    popupHeaderLeft: {
        display: "flex",
        alignItems: "center",
        gap: "16px",
        flex: 1,
    },

    avatarLarge: {
        width: "60px",
        height: "60px",
        borderRadius: "50%",
        background: isDark ? "linear-gradient(135deg, #3b82f6, #1d4ed8)" : "linear-gradient(135deg, #3b82f6, #60a5fa)",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        color: "white",
        fontSize: "24px",
    },

    popupTitle: {
        fontSize: "20px",
        fontWeight: 700,
        color: isDark ? "#f9fafb" : "#111827",
        margin: "0 0 4px 0",
        lineHeight: "1.3",
    },

    employeeId: {
        fontSize: "14px",
        color: isDark ? "#9ca3af" : "#6b7280",
        margin: 0,
        fontWeight: 500,
    },

    popupCloseBtn: {
        background: isDark ? "#374151" : "#f3f4f6",
        border: "none",
        color: isDark ? "#9ca3af" : "#6b7280",
        cursor: "pointer",
        padding: "8px",
        borderRadius: "8px",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        transition: "all 0.2s ease",
        ':hover': {
            background: isDark ? "#4b5563" : "#e5e7eb",
        }
    },

    popupBody: {
        padding: "24px",
        maxHeight: "calc(85vh - 110px)",
        overflowY: "auto",
    },

    bannerSection: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        padding: "20px 24px",
        background: isDark ? "linear-gradient(90deg, #1e293b, #374151)" : "linear-gradient(90deg, #f8fafc, #f1f5f9)",
        borderBottom: isDark ? "1px solid #374151" : "1px solid #f3f4f6",
    },

    statusBadge: {
        display: "flex",
        alignItems: "center",
        gap: "8px",
        padding: "8px 16px",
        borderRadius: "20px",
        fontSize: "14px",
        fontWeight: 600,
        border: "1px solid",
    },

    activeStatus: {
        background: isDark ? "#065f4620" : "#dcfce7",
        color: isDark ? "#34d399" : "#16a34a",
        borderColor: isDark ? "#065f46" : "#bbf7d0",
    },

    inactiveStatus: {
        background: isDark ? "#374151" : "#f3f4f6",
        color: isDark ? "#9ca3af" : "#6b7280",
        borderColor: isDark ? "#4b5563" : "#e5e7eb",
    },

    statusDot: {
        width: "8px",
        height: "8px",
        borderRadius: "50%",
    },

    activeStatusDot: {
        background: "#10b981",
        animation: "pulse 2s infinite",
    },

    inactiveStatusDot: {
        background: "#6b7280",
    },

    travelTypeBadge: {
        display: "flex",
        alignItems: "center",
        padding: "8px 16px",
        borderRadius: "12px",
        fontSize: "14px",
        fontWeight: 600,
        border: "1px solid",
    },

    detailGrid: {
        display: "grid",
        gridTemplateColumns: "1fr 1fr",
        gap: "0",
    },

    detailGroup: {
        padding: "24px",
        borderBottom: isDark ? "1px solid #374151" : "1px solid #f3f4f6",
        ':nth-child(odd)': {
            borderRight: isDark ? "1px solid #374151" : "1px solid #f3f4f6",
        }
    },

    detailGroupTitle: {
        display: "flex",
        alignItems: "center",
        gap: "8px",
        fontSize: "16px",
        fontWeight: 600,
        color: isDark ? "#f3f4f6" : "#374151",
        margin: "0 0 16px 0",
    },

    detailGroupIcon: {
        color: "#3b82f6",
    },

    detailItems: {
        display: "flex",
        flexDirection: "column",
        gap: "16px",
    },

    detailItem: {
        display: "flex",
        flexDirection: "column",
        gap: "4px",
    },





    travelTypeDisplay: {
        display: "flex",
        alignItems: "center",
        fontSize: "14px",
        fontWeight: 600,
        padding: "4px 0",
    },

    statusIndicator: {
        padding: "4px 12px",
        borderRadius: "12px",
        fontSize: "12px",
        fontWeight: 600,
        width: "fit-content",
    },

    activeIndicator: {
        background: isDark ? "#065f4620" : "#dcfce7",
        color: isDark ? "#34d399" : "#16a34a",
    },

    inactiveIndicator: {
        background: isDark ? "#374151" : "#f3f4f6",
        color: isDark ? "#9ca3af" : "#6b7280",
    },


    // /////////////////////////
    // Popup Styles












    detailItem: {
        display: "flex",
        flexDirection: "column",
        gap: "4px",
        ' strong': {
            color: isDark ? "#cbd5e1" : "#374151",
            fontSize: "14px",
            marginBottom: "4px",
        },
        ' span': {
            color: isDark ? "#94a3b8" : "#6b7280",
            fontSize: "14px",
        }
    },

    // ‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è
    // üÜï Add New Traveler Tab Styles
    addTravelContainer: {
        padding: "0",
    },

    addTravelHeader: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        padding: "24px",
        background: isDark ?
            "linear-gradient(135deg, #1e293b, #0f172a)" :
            "linear-gradient(135deg, #f8fafc, #e2e8f0)",
        borderRadius: "12px",
        marginBottom: "24px",
        border: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid rgba(0,0,0,0.05)",
    },

    headerLeft: {
        display: "flex",
        alignItems: "center",
        gap: "16px",
    },

    headerIconLarge: {
        background: isDark ?
            "linear-gradient(135deg, #8b5cf6, #3b82f6)" :
            "linear-gradient(135deg, #8b5cf6, #3b82f6)",
        color: "white",
        padding: "16px",
        borderRadius: "12px",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
    },

    addTravelTitle: {
        fontSize: "24px",
        fontWeight: "700",
        color: isDark ? "#f1f5f9" : "#0f172a",
        margin: "0 0 4px 0",
    },

    addTravelSubtitle: {
        fontSize: "14px",
        color: isDark ? "#94a3b8" : "#64748b",
        margin: "0",
    },

    headerStats: {
        display: "flex",
        gap: "16px",
    },

    statCard: {
        display: "flex",
        alignItems: "center",
        gap: "12px",
        padding: "12px 16px",
        background: isDark ? "rgba(255,255,255,0.05)" : "rgba(255,255,255,0.8)",
        borderRadius: "8px",
        border: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid rgba(0,0,0,0.05)",
    },

    statNumber: {
        fontSize: "18px",
        fontWeight: "700",
        color: isDark ? "#f1f5f9" : "#0f172a",
        display: "block",
    },

    statLabel: {
        fontSize: "12px",
        color: isDark ? "#94a3b8" : "#64748b",
        display: "block",
    },

    formMainContainer: {
        display: "grid",
        gridTemplateColumns: "1fr 300px",
        gap: "24px",
        alignItems: "start",
    },

    formCard: {
        background: isDark ? "#1e293b" : "white",
        padding: "24px",
        borderRadius: "12px",
        border: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e2e8f0",
        boxShadow: isDark ?
            "0 4px 6px -1px rgba(0, 0, 0, 0.3)" :
            "0 4px 6px -1px rgba(0, 0, 0, 0.1)",
    },

    formHeader: {
        display: "flex",
        alignItems: "center",
        gap: "16px",
        marginBottom: "32px",
        paddingBottom: "20px",
        borderBottom: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e2e8f0",
    },

    formIcon: {
        background: isDark ?
            "linear-gradient(135deg, #8b5cf6, #3b82f6)" :
            "linear-gradient(135deg, #8b5cf6, #3b82f6)",
        color: "white",
        padding: "12px",
        borderRadius: "10px",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
    },

    formTitle: {
        fontSize: "20px",
        fontWeight: "700",
        color: isDark ? "#f1f5f9" : "#0f172a",
        margin: "0 0 4px 0",
    },

    formSubtitle: {
        fontSize: "14px",
        color: isDark ? "#94a3b8" : "#64748b",
        margin: "0",
    },

    formSections: {
        display: "flex",
        flexDirection: "column",
        gap: "32px",
    },

    formSection: {
        padding: "0",
    },

    sectionTitle: {
        display: "flex",
        alignItems: "center",
        gap: "8px",
        fontSize: "16px",
        fontWeight: "600",
        color: isDark ? "#e2e8f0" : "#374151",
        margin: "0 0 20px 0",
        paddingBottom: "12px",
        borderBottom: isDark ? "1px solid rgba(255,255,255,0.05)" : "1px solid #f1f5f9",
    },

    sectionIcon: {
        color: "#3b82f6",
    },

    sectionGrid: {
        display: "grid",
        gridTemplateColumns: "repeat(2, 1fr)",
        gap: "20px",
    },

    inputGroup: {
        display: "flex",
        flexDirection: "column",
        gap: "8px",
    },

    inputLabel: {
        fontSize: "14px",
        fontWeight: "600",
        color: isDark ? "#e2e8f0" : "#374151",
        display: "flex",
        alignItems: "center",
        gap: "6px",
    },

    labelIcon: {
        color: isDark ? "#94a3b8" : "#6b7280",
        opacity: "0.8",
    },

    required: {
        color: "#ef4444",
        marginLeft: "2px",
    },

    formInput: {
        padding: "12px 16px",
        borderRadius: "8px",
        border: isDark ?
            "1px solid rgba(255,255,255,0.2)" :
            "1px solid #d1d5db",
        background: isDark ? "rgba(15, 23, 42, 0.5)" : "white",
        color: isDark ? "#f9fafb" : "#111827",
        fontSize: "14px",
        transition: "all 0.2s ease",
        outline: "none",
        ':focus': {
            borderColor: isDark ? "#3b82f6" : "#2563eb",
            boxShadow: isDark ?
                "0 0 0 3px rgba(59, 130, 246, 0.1)" :
                "0 0 0 3px rgba(37, 99, 235, 0.1)",
        },
        '::placeholder': {
            color: isDark ? "#6b7280" : "#9ca3af",
        }
    },

    formActions: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        paddingTop: "24px",
        marginTop: "32px",
        borderTop: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e2e8f0",
    },

    secondaryButton: {
        background: isDark ?
            "linear-gradient(135deg, #4b5563, #374151)" :
            "linear-gradient(135deg, #f3f4f6, #e5e7eb)",
        color: isDark ? "#d1d5db" : "#374151",
        border: "none",
        padding: "12px 20px",
        borderRadius: "8px",
        cursor: "pointer",
        fontSize: "14px",
        fontWeight: "600",
        display: "flex",
        alignItems: "center",
        gap: "8px",
        transition: "all 0.3s ease",
        ':hover': {
            transform: "translateY(-1px)",
            boxShadow: isDark ?
                "0 4px 12px rgba(0, 0, 0, 0.3)" :
                "0 4px 12px rgba(0, 0, 0, 0.1)",
        }
    },

    primaryActions: {
        display: "flex",
        gap: "12px",
    },

    clearButton: {
        background: isDark ?
            "linear-gradient(135deg, #6b7280, #4b5563)" :
            "linear-gradient(135deg, #f3f4f6, #e5e7eb)",
        color: isDark ? "#d1d5db" : "#374151",
        border: "none",
        padding: "12px 20px",
        borderRadius: "8px",
        cursor: "pointer",
        fontSize: "14px",
        fontWeight: "600",
        display: "flex",
        alignItems: "center",
        gap: "8px",
        transition: "all 0.3s ease",
        ':hover': {
            transform: "translateY(-1px)",
            boxShadow: isDark ?
                "0 4px 12px rgba(0, 0, 0, 0.3)" :
                "0 4px 12px rgba(0, 0, 0, 0.1)",
        }
    },

    saveButton: {
        background: isDark ?
            "linear-gradient(135deg, #059669, #047857)" :
            "linear-gradient(135deg, #10b981, #059669)",
        color: "white",
        border: "none",
        padding: "12px 24px",
        borderRadius: "8px",
        cursor: "pointer",
        fontSize: "14px",
        fontWeight: "600",
        display: "flex",
        alignItems: "center",
        gap: "8px",
        transition: "all 0.3s ease",
        boxShadow: isDark ?
            "0 4px 12px rgba(5, 150, 105, 0.3)" :
            "0 4px 12px rgba(5, 150, 105, 0.2)",
        ':hover': {
            transform: "translateY(-1px)",
            boxShadow: isDark ?
                "0 8px 20px rgba(5, 150, 105, 0.4)" :
                "0 8px 20px rgba(5, 150, 105, 0.3)",
        }
    },

    tipsCard: {
        background: isDark ? "#1e293b" : "white",
        padding: "20px",
        borderRadius: "12px",
        border: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e2e8f0",
        boxShadow: isDark ?
            "0 4px 6px -1px rgba(0, 0, 0, 0.3)" :
            "0 4px 6px -1px rgba(0, 0, 0, 0.1)",
        position: "sticky",
        top: "20px",
    },

    tipsTitle: {
        display: "flex",
        alignItems: "center",
        gap: "8px",
        fontSize: "16px",
        fontWeight: "600",
        color: isDark ? "#e2e8f0" : "#374151",
        margin: "0 0 16px 0",
    },

    tipsList: {
        display: "flex",
        flexDirection: "column",
        gap: "12px",
    },

    tipItem: {
        display: "flex",
        alignItems: "center",
        gap: "8px",
        fontSize: "14px",
        color: isDark ? "#cbd5e1" : "#6b7280",
    },
    // ‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è



    // üìùüìùüìùüìùüìùüìùüìùüìùüìùüìùüìù

    // üÜï Region Analysis Styles
    regionsContainer: {
        padding: "0",
    },

    regionsHeader: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        padding: "24px",
        background: isDark ?
            "linear-gradient(135deg, #1e293b, #0f172a)" :
            "linear-gradient(135deg, #f8fafc, #e2e8f0)",
        borderRadius: "12px",
        marginBottom: "24px",
        border: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid rgba(0,0,0,0.05)",
    },

    regionsTitle: {
        fontSize: "24px",
        fontWeight: "700",
        color: isDark ? "#f1f5f9" : "#0f172a",
        margin: "0 0 4px 0",
    },

    regionsSubtitle: {
        fontSize: "14px",
        color: isDark ? "#94a3b8" : "#64748b",
        margin: "0",
    },

    regionsGrid: {
        display: "grid",
        gridTemplateColumns: "repeat(auto-fill, minmax(300px, 1fr))",
        gap: "20px",
    },

    regionCard: {
        background: isDark ? "#1e293b" : "white",
        padding: "20px",
        borderRadius: "12px",
        border: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e2e8f0",
        cursor: "pointer",
        transition: "all 0.3s ease",
        boxShadow: isDark ?
            "0 4px 6px -1px rgba(0, 0, 0, 0.3)" :
            "0 4px 6px -1px rgba(0, 0, 0, 0.1)",
        ':hover': {
            transform: "translateY(-4px)",
            boxShadow: isDark ?
                "0 8px 25px -3px rgba(0, 0, 0, 0.4)" :
                "0 8px 25px -3px rgba(0, 0, 0, 0.15)",
        }
    },

    regionHeader: {
        display: "flex",
        alignItems: "center",
        gap: "12px",
        marginBottom: "16px",
    },

    regionIcon: {
        background: isDark ?
            "linear-gradient(135deg, #8b5cf6, #3b82f6)" :
            "linear-gradient(135deg, #8b5cf6, #3b82f6)",
        color: "white",
        padding: "8px",
        borderRadius: "8px",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
    },

    regionName: {
        fontSize: "18px",
        fontWeight: "700",
        color: isDark ? "#f1f5f9" : "#0f172a",
        margin: "0",
        flex: 1,
    },

    regionStats: {
        display: "flex",
        gap: "12px",
    },

    regionStat: {
        display: "flex",
        flexDirection: "column",
        alignItems: "center",
        gap: "2px",
    },

    regionStatValue: {
        fontSize: "18px",
        fontWeight: "700",
        color: isDark ? "#f1f5f9" : "#0f172a",
    },

    regionStatLabel: {
        fontSize: "11px",
        color: isDark ? "#94a3b8" : "#6b7280",
        textTransform: "uppercase",
        letterSpacing: "0.05em",
    },

    citiesPreview: {
        marginBottom: "12px",
    },

    citiesLabel: {
        fontSize: "12px",
        color: isDark ? "#94a3b8" : "#6b7280",
        fontWeight: "600",
        marginBottom: "6px",
        display: "block",
    },

    citiesList: {
        display: "flex",
        flexWrap: "wrap",
        gap: "6px",
    },

    cityTag: {
        background: isDark ? "rgba(59, 130, 246, 0.2)" : "rgba(59, 130, 246, 0.1)",
        color: isDark ? "#93c5fd" : "#1d4ed8",
        padding: "4px 8px",
        borderRadius: "6px",
        fontSize: "11px",
        fontWeight: "500",
    },

    moreCities: {
        color: isDark ? "#94a3b8" : "#6b7280",
        fontSize: "11px",
        fontStyle: "italic",
    },

    viewDetails: {
        fontSize: "12px",
        color: isDark ? "#3b82f6" : "#2563eb",
        fontWeight: "600",
        textAlign: "center",
        paddingTop: "8px",
        borderTop: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #f1f5f9",
    },

    // Region Details Styles
    regionDetailsContainer: {
        background: isDark ? "#1e293b" : "white",
        borderRadius: "12px",
        border: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e2e8f0",
        overflow: "hidden",
    },

    regionDetailsHeader: {
        padding: "24px",
        background: isDark ?
            "linear-gradient(135deg, #1e293b, #0f172a)" :
            "linear-gradient(135deg, #f8fafc, #e2e8f0)",
        borderBottom: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e2e8f0",
    },

    backButton: {
        background: "none",
        border: "none",
        color: isDark ? "#3b82f6" : "#2563eb",
        cursor: "pointer",
        fontSize: "14px",
        fontWeight: "600",
        display: "flex",
        alignItems: "center",
        gap: "6px",
        marginBottom: "12px",
        padding: "0",
    },

    regionDetailsTitle: {
        fontSize: "20px",
        fontWeight: "700",
        color: isDark ? "#f1f5f9" : "#0f172a",
        margin: "0 0 16px 0",
    },

    citiesGrid: {
        display: "grid",
        gridTemplateColumns: "repeat(auto-fill, minmax(280px, 1fr))",
        gap: "16px",
        padding: "24px",
    },

    cityCard: {
        background: isDark ? "rgba(30, 41, 59, 0.5)" : "#f8fafc",
        padding: "16px",
        borderRadius: "8px",
        border: isDark ? "1px solid rgba(255,255,255,0.05)" : "1px solid #e2e8f0",
    },

    cityHeader: {
        display: "flex",
        alignItems: "center",
        gap: "8px",
        marginBottom: "12px",
    },

    cityIcon: {
        color: "#ef4444",
    },

    cityName: {
        fontSize: "16px",
        fontWeight: "600",
        color: isDark ? "#f1f5f9" : "#0f172a",
        margin: "0",
        flex: 1,
    },

    cityStats: {
        display: "flex",
        flexDirection: "column",
        alignItems: "center",
    },

    cityCount: {
        fontSize: "18px",
        fontWeight: "700",
        color: isDark ? "#f1f5f9" : "#0f172a",
    },

    cityLabel: {
        fontSize: "10px",
        color: isDark ? "#94a3b8" : "#6b7280",
        textTransform: "uppercase",
    },

    cityDetails: {
        display: "flex",
        gap: "12px",
        marginBottom: "12px",
    },

    cityStat: {
        display: "flex",
        alignItems: "center",
        gap: "4px",
        fontSize: "12px",
        color: isDark ? "#cbd5e1" : "#6b7280",
    },

    sampleTravelers: {
        borderTop: isDark ? "1px solid rgba(255,255,255,0.05)" : "1px solid #e2e8f0",
        paddingTop: "12px",
    },

    sampleTitle: {
        fontSize: "12px",
        fontWeight: "600",
        color: isDark ? "#94a3b8" : "#6b7280",
        margin: "0 0 8px 0",
        textTransform: "uppercase",
    },

    travelerItem: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        padding: "6px 0",
        borderBottom: isDark ? "1px solid rgba(255,255,255,0.02)" : "1px solid #f8fafc",
    },

    travelerInfo: {
        display: "flex",
        flexDirection: "column",
        gap: "2px",
    },

    travelerName: {
        fontSize: "12px",
        fontWeight: "500",
        color: isDark ? "#e2e8f0" : "#374151",
    },

    travelerId: {
        fontSize: "10px",
        color: isDark ? "#94a3b8" : "#6b7280",
    },

    activeStatusSmall: {
        fontSize: "10px",
        color: "#16a34a",
        fontWeight: "600",
        padding: "2px 6px",
        background: "rgba(22, 163, 74, 0.1)",
        borderRadius: "4px",
    },

    inactiveStatusSmall: {
        fontSize: "10px",
        color: "#6b7280",
        fontWeight: "600",
        padding: "2px 6px",
        background: "rgba(107, 114, 128, 0.1)",
        borderRadius: "4px",
    },

    moreTravelers: {
        fontSize: "11px",
        color: isDark ? "#94a3b8" : "#6b7280",
        fontStyle: "italic",
        textAlign: "center",
        marginTop: "8px",
    },


    // üìùüìùüìùüìùüìùüìùüìùüìùüìùüìùüìù



    // ‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è
    



// Upload Container
    uploadContainer: {
        padding: "20px",
        maxWidth: "1200px",
        margin: "0 auto",
    },

    // Upload Header
    uploadHeader: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        padding: "24px",
        background: isDark ?
            "linear-gradient(135deg, #1e293b, #0f172a)" :
            "linear-gradient(135deg, #f8fafc, #e2e8f0)",
        borderRadius: "16px",
        marginBottom: "24px",
        border: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid rgba(0,0,0,0.05)",
        boxShadow: "0 4px 20px rgba(0, 0, 0, 0.08)",
    },

    headerLeft: {
        display: "flex",
        alignItems: "center",
        gap: "16px",
    },

    uploadIcon: {
        background: "linear-gradient(135deg, #3b82f6, #8b5cf6)",
        color: "white",
        padding: "12px",
        borderRadius: "12px",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
    },

    uploadTitle: {
        fontSize: "28px",
        fontWeight: "800",
        background: "linear-gradient(135deg, #3b82f6, #8b5cf6)",
        WebkitBackgroundClip: "text",
        WebkitTextFillColor: "transparent",
        margin: "0 0 4px 0",
    },

    uploadSubtitle: {
        fontSize: "14px",
        color: isDark ? "#94a3b8" : "#64748b",
        margin: "0",
    },

    headerStats: {
        display: "flex",
        gap: "16px",
    },

    statCard: {
        display: "flex",
        alignItems: "center",
        gap: "12px",
        padding: "12px 20px",
        background: isDark ? "rgba(255,255,255,0.05)" : "rgba(255,255,255,0.8)",
        borderRadius: "12px",
        border: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid rgba(0,0,0,0.05)",
    },

    statNumber: {
        fontSize: "20px",
        fontWeight: "700",
        color: isDark ? "#f1f5f9" : "#0f172a",
        display: "block",
    },

    statLabel: {
        fontSize: "12px",
        color: isDark ? "#94a3b8" : "#64748b",
        textTransform: "uppercase",
        letterSpacing: "0.05em",
    },

    // Upload Card
    uploadCard: {
        background: isDark ? "#1e293b" : "white",
        padding: "10px",
        borderRadius: "16px",
        border: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e2e8f0",
        marginBottom: "24px",
        textAlign: "center",
        boxShadow: "0 4px 20px rgba(0, 0, 0, 0.08)",
    },

    uploadArea: {
        border: `2px dashed ${isDark ? "rgba(255,255,255,0.2)" : "#d1d5db"}`,
        borderRadius: "12px",
        padding: "15px 10px",
        marginBottom: "24px",
        transition: "all 0.3s ease",
    },

    uploadCloudIcon: {
        color: isDark ? "#4b5563" : "#9ca3af",
        marginBottom: "16px",
    },

    uploadAreaTitle: {
        fontSize: "20px",
        fontWeight: "600",
        color: isDark ? "#f1f5f9" : "#0f172a",
        margin: "0 0 8px 0",
    },

    uploadAreaSubtitle: {
        fontSize: "14px",
        color: isDark ? "#94a3b8" : "#6b7280",
        margin: "0 0 24px 0",
    },

    fileInputLabel: {
        display: "inline-flex",
        alignItems: "center",
        background: "linear-gradient(135deg, #3b82f6, #8b5cf6)",
        color: "white",
        padding: "12px 24px",
        borderRadius: "8px",
        cursor: "pointer",
        fontSize: "14px",
        fontWeight: "600",
        transition: "all 0.2s ease",
        ':hover': {
            transform: "translateY(-1px)",
            boxShadow: "0 4px 12px rgba(59, 130, 246, 0.4)",
        }
    },

    hiddenFileInput: {
        display: "none",
    },

    filePreview: {
        display: "flex",
        alignItems: "center",
        gap: "12px",
        padding: "16px",
        background: isDark ? "rgba(255,255,255,0.05)" : "#f8fafc",
        borderRadius: "8px",
        marginTop: "16px",
        maxWidth: "400px",
        margin: "16px auto 0",
    },

    fileIcon: {
        color: "#3b82f6",
    },

    fileInfo: {
        flex: 1,
        textAlign: "left",
    },

    fileName: {
        display: "block",
        fontSize: "14px",
        fontWeight: "600",
        color: isDark ? "#f1f5f9" : "#0f172a",
        marginBottom: "2px",
    },

    fileSize: {
        fontSize: "12px",
        color: isDark ? "#94a3b8" : "#6b7280",
    },

    removeFileButton: {
        background: "none",
        border: "none",
        color: isDark ? "#94a3b8" : "#6b7280",
        cursor: "pointer",
        padding: "4px",
        borderRadius: "4px",
        ':hover': {
            background: isDark ? "rgba(239, 68, 68, 0.1)" : "#fef2f2",
            color: "#ef4444",
        }
    },

    uploadButton: {
        background: "linear-gradient(135deg, #10b981, #059669)",
        color: "white",
        border: "none",
        padding: "14px 32px",
        borderRadius: "8px",
        fontSize: "16px",
        fontWeight: "600",
        cursor: "pointer",
        transition: "all 0.3s ease",
        display: "inline-flex",
        alignItems: "center",
        boxShadow: "0 4px 12px rgba(16, 185, 129, 0.4)",
        ':hover': {
            transform: "translateY(-2px)",
            boxShadow: "0 6px 20px rgba(16, 185, 129, 0.6)",
        }
    },

    uploadButtonDisabled: {
        background: isDark ? "#374151" : "#9ca3af",
        color: isDark ? "#9ca3af" : "#6b7280",
        border: "none",
        padding: "14px 32px",
        borderRadius: "8px",
        fontSize: "16px",
        fontWeight: "600",
        cursor: "not-allowed",
        display: "inline-flex",
        alignItems: "center",
        opacity: 0.6,
    },

    // Upload Status
    uploadStatusSuccess: {
        padding: "24px",
        borderRadius: "16px",
        marginBottom: "24px",
        background: isDark ? "rgba(16, 185, 129, 0.1)" : "#dcfce7",
        border: isDark ? "1px solid rgba(16, 185, 129, 0.3)" : "1px solid #bbf7d0",
    },

    uploadStatusError: {
        padding: "24px",
        borderRadius: "16px",
        marginBottom: "24px",
        background: isDark ? "rgba(239, 68, 68, 0.1)" : "#fef2f2",
        border: isDark ? "1px solid rgba(239, 68, 68, 0.3)" : "1px solid #fecaca",
    },

    statusHeader: {
        display: "flex",
        alignItems: "center",
        gap: "8px",
        marginBottom: "12px",
    },

    statusTitle: {
        fontSize: "18px",
        fontWeight: "600",
        color: isDark ? "#f1f5f9" : "#0f172a",
    },

    statusMessage: {
        margin: "0",
        fontSize: "14px",
        color: isDark ? "#cbd5e1" : "#374151",
    },

    metadataGrid: {
        display: "grid",
        gridTemplateColumns: "repeat(auto-fit, minmax(200px, 1fr))",
        gap: "16px",
        marginTop: "20px",
        paddingTop: "20px",
        borderTop: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e5e7eb",
    },

    metadataItem: {
        display: "flex",
        flexDirection: "column",
        gap: "4px",
    },

    metadataLabel: {
        fontSize: "12px",
        color: isDark ? "#94a3b8" : "#6b7280",
        fontWeight: "600",
        textTransform: "uppercase",
        letterSpacing: "0.05em",
    },

    metadataValue: {
        fontSize: "14px",
        color: isDark ? "#f1f5f9" : "#0f172a",
        fontWeight: "500",
    },

    // Summary Card
    summaryCard: {
        background: isDark ? "#1e293b" : "white",
        padding: "24px",
        borderRadius: "16px",
        border: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e2e8f0",
        marginBottom: "24px",
        boxShadow: "0 4px 20px rgba(0, 0, 0, 0.08)",
    },

    summaryHeader: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        marginBottom: "20px",
    },

    summaryTitle: {
        fontSize: "20px",
        fontWeight: "700",
        color: isDark ? "#f1f5f9" : "#0f172a",
        margin: "0",
    },

    summaryStats: {
        display: "flex",
        gap: "24px",
    },

    summaryStat: {
        display: "flex",
        flexDirection: "column",
        alignItems: "center",
        gap: "4px",
    },

    summaryIcon: {
        color: "#3b82f6",
        marginBottom: "4px",
    },

    summaryNumber: {
        fontSize: "24px",
        fontWeight: "800",
        color: isDark ? "#f1f5f9" : "#0f172a",
    },

    summaryLabel: {
        fontSize: "12px",
        color: isDark ? "#94a3b8" : "#6b7280",
        textTransform: "uppercase",
        letterSpacing: "0.05em",
    },

    // Table Container
    tableContainer: {
        background: isDark ? "#1e293b" : "white",
        borderRadius: "16px",
        border: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e2e8f0",
        overflow: "hidden",
        boxShadow: "0 4px 20px rgba(0, 0, 0, 0.08)",
    },

    tableHeader: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        padding: "24px",
        borderBottom: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e2e8f0",
    },

    tableTitle: {
        fontSize: "20px",
        fontWeight: "700",
        color: isDark ? "#f1f5f9" : "#0f172a",
        margin: "0",
    },

    tableActions: {
        display: "flex",
        alignItems: "center",
        gap: "16px",
    },

    exportButton: {
        display: "flex",
        alignItems: "center",
        background: "none",
        border: isDark ? "1px solid rgba(255,255,255,0.2)" : "1px solid #d1d5db",
        color: isDark ? "#e2e8f0" : "#374151",
        padding: "8px 16px",
        borderRadius: "6px",
        fontSize: "14px",
        cursor: "pointer",
        transition: "all 0.2s ease",
        ':hover': {
            background: isDark ? "rgba(255,255,255,0.05)" : "#f8fafc",
        }
    },

    searchBox: {
        position: "relative",
        display: "flex",
        alignItems: "center",
    },

    searchIcon: {
        position: "absolute",
        left: "12px",
        color: isDark ? "#94a3b8" : "#6b7280",
    },

    searchInput: {
        padding: "8px 12px 8px 36px",
        border: isDark ? "1px solid rgba(255,255,255,0.2)" : "1px solid #d1d5db",
        borderRadius: "6px",
        background: isDark ? "#334155" : "#f9fafb",
        color: isDark ? "#f1f5f9" : "#111827",
        fontSize: "14px",
        width: "200px",
        '::placeholder': {
            color: isDark ? "#94a3b8" : "#6b7280",
        }
    },

    tableWrapper: {
        overflowX: "auto",
    },

    table: {
        width: "100%",
        borderCollapse: "collapse",
        fontSize: "14px",
    },

    tableHead: {
        background: isDark ? "#334155" : "#f8fafc",
    },

    tableHeader: {
        padding: "16px",
        textAlign: "left",
        fontWeight: "600",
        color: isDark ? "#e2e8f0" : "#374151",
        borderBottom: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e5e7eb",
        fontSize: "12px",
        textTransform: "uppercase",
        letterSpacing: "0.05em",
        whiteSpace: "nowrap",
    },

    tableRow: {
        borderBottom: isDark ? "1px solid rgba(255,255,255,0.05)" : "1px solid #f3f4f6",
        transition: "background-color 0.2s ease",
        ':hover': {
            background: isDark ? "rgba(255,255,255,0.05)" : "#f9fafb",
        }
    },

    tableCell: {
        padding: "16px",
        color: isDark ? "#e2e8f0" : "#374151",
        borderBottom: isDark ? "1px solid rgba(255,255,255,0.05)" : "1px solid #f3f4f6",
    },

    employeeId: {
        display: "flex",
        alignItems: "center",
        fontWeight: "600",
        color: isDark ? "#f1f5f9" : "#0f172a",
    },

    employeeName: {
        display: "flex",
        flexDirection: "column",
    },

    name: {
        fontWeight: "600",
        color: isDark ? "#f1f5f9" : "#0f172a",
        marginBottom: "2px",
    },

    email: {
        fontSize: "12px",
        color: isDark ? "#94a3b8" : "#6b7280",
    },

    department: {
        background: isDark ? "rgba(59, 130, 246, 0.2)" : "rgba(59, 130, 246, 0.1)",
        color: isDark ? "#93c5fd" : "#1d4ed8",
        padding: "4px 8px",
        borderRadius: "4px",
        fontSize: "12px",
        fontWeight: "500",
    },

    company: {
        fontWeight: "500",
        color: isDark ? "#e2e8f0" : "#374151",
    },

    location: {
        display: "flex",
        alignItems: "center",
        color: isDark ? "#cbd5e1" : "#6b7280",
        fontSize: "13px",
    },

    serviceBadge: {
        background: isDark ? "rgba(16, 185, 129, 0.2)" : "rgba(16, 185, 129, 0.1)",
        color: isDark ? "#34d399" : "#065f46",
        padding: "4px 8px",
        borderRadius: "4px",
        fontSize: "12px",
        fontWeight: "600",
        textAlign: "center",
    },

    statusActive: {
        background: isDark ? "rgba(16, 185, 129, 0.2)" : "rgba(16, 185, 129, 0.1)",
        color: isDark ? "#34d399" : "#065f46",
        padding: "4px 8px",
        borderRadius: "4px",
        fontSize: "12px",
        fontWeight: "600",
        textAlign: "center",
    },

    statusInactive: {
        background: isDark ? "rgba(107, 114, 128, 0.2)" : "rgba(107, 114, 128, 0.1)",
        color: isDark ? "#9ca3af" : "#374151",
        padding: "4px 8px",
        borderRadius: "4px",
        fontSize: "12px",
        fontWeight: "600",
        textAlign: "center",
    },

    tableFooter: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        padding: "16px 24px",
        borderTop: isDark ? "1px solid rgba(255,255,255,0.1)" : "1px solid #e2e8f0",
    },

    footerText: {
        fontSize: "14px",
        color: isDark ? "#94a3b8" : "#6b7280",
    },

    pagination: {
        display: "flex",
        alignItems: "center",
        gap: "12px",
    },

    paginationButton: {
        background: "none",
        border: isDark ? "1px solid rgba(255,255,255,0.2)" : "1px solid #d1d5db",
        color: isDark ? "#e2e8f0" : "#374151",
        padding: "6px 8px",
        borderRadius: "4px",
        cursor: "pointer",
        ':disabled': {
            opacity: 0.5,
            cursor: "not-allowed",
        }
    },

    paginationInfo: {
        fontSize: "14px",
        color: isDark ? "#94a3b8" : "#6b7280",
    },

    // Animations
    '@keyframes spin': {
        '0%': { transform: 'rotate(0deg)' },
        '100%': { transform: 'rotate(360deg)' },
    },

    // Responsive
    '@media (max-width: 768px)': {
        uploadContainer: {
            padding: "12px",
        },
        uploadHeader: {
            padding: "16px",
            flexDirection: "column",
            alignItems: "flex-start",
            gap: "16px",
        },
        headerStats: {
            width: "100%",
            justifyContent: "center",
        },
        uploadCard: {
            padding: "20px",
        },
        uploadArea: {
            padding: "32px 16px",
        },
        summaryStats: {
            gap: "16px",
        },
        tableHeader: {
            flexDirection: "column",
            gap: "16px",
            alignItems: "flex-start",
        },
        tableActions: {
            width: "100%",
            justifyContent: "space-between",
        },
        searchInput: {
            width: "150px",
        },
    }
    // ‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è
    
//

    
});

export default EmployeeTravelDashboard;
